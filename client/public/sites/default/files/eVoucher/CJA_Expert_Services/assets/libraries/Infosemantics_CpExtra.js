/**
 * Captivate Extra
 * Version: 1.4
 * Build: 9487
 * Written By: Tristan Ward
 * Company: Infosemantics
 * Licence: See licence document provided with CpExtra purchase
 * Copyright: Tristan Ward 2017
 */
function initExtra(e){"use strict";function t(e){return e.hasOwnProperty("cp")}function a(e){e.log=function(t){e.debugging?e.debugging.log(t):e.console&&e.console.log(t)},e.error=function(t){e.debugging?e.debugging.error.apply(this,arguments):e.console&&e.w.alert(t)}}function r(e){u.aborted=!0,u.registerModule=function(){},u.w&&("object"==typeof u.w[e]?u.log("Aborted initializing Extra for a second time, as we have detected the window."+e+" property has already been defined."):u.error("CpExtra could not start because it encountered a User Variable named <b>"+e+"</b> in the project. CpExtra has reserved this User Variable name. <br/>Please delete the <b>"+e+"</b> User Variable."))}function n(e){s()?o(e):_.push(e)}function i(){for(var e=0;e<_.length;e+=1)o(_[e]);_=[]}function s(){return!d||u.w.cp.movie}function o(e){var t,a,r=b[e];r.onLoadCallback=l(r.moduleConstructor),r.instantiated=!0;for(var n in r.subordinates)if(r.subordinates.hasOwnProperty(n)){if(t=b[n],t.instantiated)continue;a=!0;for(var i=0;i<t.dependencies.length;i+=1)if(!b[t.dependencies[i]].instantiated){a=!1;break}a&&o(n)}}function l(e){return u.w.unitTests?e():u.w.eval("("+e.toString()+"())")}function c(){var e;for(var t in b)if(b.hasOwnProperty(t)&&(e=b[t],e.onLoadCallback))try{l(e.onLoadCallback)}catch(a){u.error("Encountered error at module: "+t+"<br/>Details: <br/>"+a)}}var u={},d=!1;if(e||(e=window),!window._extra||!window.unitTests){if(a(u),t(e))d=!0;else if(e._extra=u,e=e.parent,!t(e))return void r("X");if(u.w=e,u.console=u.w.console,u.CAPTIVATE="captivate",u.STORYLINE="storyline",void 0!==u.w.X)return void r("X");if(void 0!==u.w._extra)return void r("_extra");u.aborted=!1,u.w._extra=u,u.classes={},u.registerClass=function(e,t,a){var r=function(){};if((a===u.STORYLINE||a===u.CAPTIVATE)&&(a=null),a){if("string"==typeof a){if(!u.classes[a])throw new Error("Could not find a class by the name of '"+a+"' to be used as a super class.");a=u.classes[a]}r.prototype=a.prototype,t.prototype=new r,t.prototype.constructor=t,t.baseConstructor=a,t.superClass=a.prototype}u.classes[e]=t};var b={},_=[];u.registerModule=function(e,t,a){function r(e){return b[e]={subordinates:{},instantiated:!1},b[e]}function i(e,t){b[e].subordinates[t]=b[t],c=!1}var s,o,l,c=!0;if("function"==typeof t?(a=t,t=[]):"string"==typeof t&&(t=[t]),b[e]){if(void 0!==b[e].dependencies)throw Error("Tried to register two modules under the name: "+e)}else r(e);s=b[e],s.dependencies=t,s.moduleConstructor=a;for(var u=0;u<s.dependencies.length;u+=1){if(o=s.dependencies[u],l=b[o],o===e)throw new Error("Can't set up a module as a dependency of itself");l?l.instantiated||i(o,e):(l=r(o),i(o,e))}c&&n(e)},u.$=u.w.$,u.isIE=!!document.documentMode,u.X={version:"1.4",build:"9486"};var f=function(){window.removeEventListener("load",f),window.hasOwnProperty("_extra")&&u.w.story&&c()};if(window.addEventListener("load",f),window.CaptivateExtraWidgetInit=function(){u.w.cp&&(window.removeEventListener("load",f),c())},!s()){var g=u.w.cp.complete;u.w.cp.complete=function(){s()&&(window.removeEventListener("load",f),i(),c(),u.w.cp.complete=g),g()}}}}initExtra(),_extra.registerModule("Callback",function(){"use strict";_extra.registerClass("Callback",function(){this.data={},this.addCallback=function(e,t,a){this.data[e]||(this.data[e]={overwritable:null,regular:[]}),a?this.data[e].overwritable=t:this.data[e].regular.push(t)},this.hasCallbackFor=function(e){return void 0!==this.data[e]},this.sendToCallback=function(e,t){var a,r,n=this.data[e];if(n){n.overwritable&&n.overwritable(t);for(var i=n.regular,s=0;s<i.length;s+=1)r=i[s](t),void 0!==r&&(a=r)}return a},this.forEach=function(e){var t;for(var a in this.data)if(this.data.hasOwnProperty(a)){this.data[a].overwritable&&e(a,this.data[a].overwritable),t=this.data[a].regular;for(var r=0;r<t.length;r+=1)e(a,t[r])}},this.removeCallback=function(e,t){var a=this.data[e];if(a){if(a.overwritable&&a.overwritable===t)return void delete a.overwritable;for(var r,n=a.regular,i=0;i<n.length;i+=1)if(r=n[i],t===r){n.splice(i,1),n.length<=0&&delete this.data[e];break}}},this.clear=function(){this.data={}}})}),_extra.registerModule("CustomEvent",function(){"use strict";function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}e.prototype=Event.prototype,_extra.registerClass("CustomEvent",e),_extra.createEvent=function(e){return _extra.isIE?new _extra.classes.CustomEvent(e):new _extra.w.Event(e)}}),_extra.registerModule("DoubleClickHandler",function(){"use strict";function e(){function e(e){n&&(_extra.preferences.doubleClickDelay<=0||!i?n(e):(o+=1,r||(r=_extra.w.setTimeout(function(){o>=2?i(e):n(e),o=0,r=null},_extra.preferences.doubleClickDelay))))}function t(e){i&&(r&&(_extra.w.clearTimeout(r),r=null,o=0),i(e))}function a(e){s(e),e.preventDefault()}var r,n,i,s,o=0;this.addEventHandler=function(r,o){switch(r){case _extra.eventManager.events.CLICK:return n=o,e;case _extra.eventManager.events.DOUBLE_CLICK:return i=o,t;case _extra.eventManager.events.RIGHT_CLICK:return s=o,a}return o},this.removeEventHandler=function(e){e===_extra.eventManager.events.CLICK?n=null:e===_extra.eventManager.events.DOUBLE_CLICK&&(i=null)}}_extra.registerClass("DoubleClickHandler",e)}),_extra.registerModule("EventDispatcher",function(){"use strict";function e(){var e={};this.addEventListener=function(t,a){"function"==typeof a?(e[t]||(e[t]=[]),e[t].push(a)):_extra.error("Tried to pass something into addEventListener as a handler which was not a function butrather of '"+typeof a+"' type.")},this.removeEventListener=function(t,a){var r=e[t];if(r)for(var n=0;n<r.length;n+=1)if(r[n]===a)return r.splice(n,1),!0;return!1},this.hasEventListener=function(t,a){var r=e[t];if(a&&r){for(var n=0;n<r.length;n+=1)if(r[n]===a)return!0;return!1}return e.hasOwnProperty(t)},this.dispatchEvent=function(t){var a=e[t.type];if(a)for(var r=0;r<a.length;r+=1)a[r](t)}}_extra.registerClass("EventDispatcher",e)}),_extra.registerModule("EventMediator",function(){"use strict";function e(){function e(){l&&u.length<=0&&_extra.w.Object.keys(c).length<=0&&l()}function t(e,t,a){var r,n=c[e];if(!n)return!1;for(var i=0;i<n.length;i+=1)if(r=n[i],r.isInteractiveObjectCallback){if(r.interactiveObject===t&&r.criteria===a)return{index:i,data:r}}else if(r.callback===t)return{index:i,data:r};return!1}function a(e,a,r){var i;if(!c[e]){var s,o=[];c[e]=o,s=function(e){for(var t,a=o.length-1;a>=0;a-=1)t=o[a],t.called||(b.id&&_extra.eventManager.setEventTarget(b.id),t.callback(e),t.called=!0);for(a=o.length-1;a>=0;a-=1)delete o[a].called},s=_.addEventHandler(e,s),d[e]=s,n(u,e,s)}return t(e,a,r)?!1:(i=r?{isInteractiveObjectCallback:!0,interactiveObject:a,criteria:r,callback:function(){_extra.actionManager.callActionOn(a,r)}}:{isInteractiveObjectCallback:!1,callback:a},c[e].unshift(i),i)}function r(a,r,n){var s=t(a,r,n);if(s){var o=c[a];return o.splice(s.index,1),o.length<=0&&(delete c[a],i(u,a,d[a]),_.removeEventHandler(a),delete d[a],e()),s.data}return!1}function n(e,t,a){for(var r=0;r<e.length;r+=1)e[r].addEventListener(t,a)}function i(e,t,a){for(var r=0;r<e.length;r+=1)e[r].removeEventListener(t,a)}function s(t,a){var r,s=Array.prototype.slice.call(t);1!==s.length||null!==s[0]&&void 0!==s[0]||(s=[]);for(var o in d)d.hasOwnProperty(o)&&(r=d[o],a&&i(u,o,r),n(s,o,r));a?(u=s,e()):u=u.concat(s)}function o(e){switch(e){case"doubleclick":return _extra.eventManager.events.DOUBLE_CLICK;case"rollover":return _extra.eventManager.events.MOUSE_OVER;case"rollout":return _extra.eventManager.events.MOUSE_OUT;default:return e}}var l,c={},u=Array.prototype.slice.call(arguments),d={},b=this,_=new _extra.classes.DoubleClickHandler;this.setId=function(e){this._id=e},this.addEventListener=function(e,t,r){e=o(e),a(e,t,r)},this.removeEventListener=function(e,t,a){e=o(e),r(e,t,a)},this.hasEventListener=function(e,a,r){return t(e,a,r)!==!1},this.dispatchEvent=function(e){var t;"string"==typeof e?t=_extra.createEvent(e):void 0!==e.type&&(t=e,e=t.type),d[e]&&d[e](t)},this.swap=function(){s(arguments,!0)},this.add=function(){s(arguments,!1)},this.registerOnEmptyCallback=function(e){l=e}}e.prototype={get id(){return this._id}},_extra.registerClass("EventMediator",e)}),_extra.registerModule("InterruptedClickEventHandler",function(){"use strict";function e(e,t){function a(){_extra.eventManager.useTouchEvents&&(e.addEventListener(_extra.eventManager.events.MOUSE_DOWN,r),e.addEventListener(_extra.eventManager.events.MOUSE_UP,n),_extra.w.document.addEventListener(_extra.eventManager.events.MOUSE_UP,i))}function r(){l=!0}function n(e){if(l)switch(e.button){case void 0:case 0:s()}l=!1}function i(){l=!1}function s(){var t=new _extra.w.Date;e.dispatchEvent(_extra.eventManager.events.CLICK),null!==c&&o(t)?(e.dispatchEvent(_extra.eventManager.events.DOUBLE_CLICK),c=null):c=t}function o(e){return e.getTime()-c.getTime()<=_extra.preferences.doubleClickDelay}var l=!1,c=null;this.unload=function(){_extra.eventManager.useTouchEvents&&(e.removeEventListener(_extra.eventManager.events.MOUSE_DOWN,r),e.removeEventListener(_extra.eventManager.events.MOUSE_UP,n),_extra.w.document.removeEventListener(_extra.eventManager.events.MOUSE_UP,i))},a()}_extra.registerClass("InterruptedClickEventHandler",e)}),_extra.registerModule("Model",function(){"use strict";function e(){function e(e,t,r,n){var i={slideObjectName:e,property:t,previousValue:r,currentValue:n};a.sendToCallback("*",i),a.sendToCallback(e,i)}var t={},a=new _extra.classes.Callback;this.updateCallback=a,this.write=function(a,r,n){var i,s;t[a]||(t[a]={}),i=t[a],s=i[r],s!==n&&(i[r]=n,e(a,r,s,n))},this.retrieve=function(e,a){return a&&t[e]?t[e][a]:t[e]},this.hasDataFor=function(e){return t.hasOwnProperty(e)},this.refresh=function(a){var r,n;for(var i in t)t.hasOwnProperty(i)&&(r=t[i],r.hasOwnProperty(a)&&(n=r[a],e(i,a,n,n)))},this.update=function(a){var r,n=t[a];if(n)for(var i in n)n.hasOwnProperty(i)&&(r=n[i],e(a,i,r,r))}}_extra.registerClass("Model",e)}),_extra.registerModule("ModelListener",function(){"use strict";function e(e,t){function a(e){r[e.property]&&r[e.property].onChangeCallback(e.previousValue,e.currentValue)}var r={};this.model=t,this.addProperty=function(a,n,i){var s=t.retrieve(e,a);r[a]={onChangeCallback:n,defaultValue:i},void 0===s&&i&&(t.write(e,a,i),s=i),void 0!==s&&n(null,s)},this.unload=function(){r=null,t.updateCallback.removeCallback(e,a),t=null,this.model=null},t.updateCallback.addCallback(e,a)}_extra.registerClass("ModelListener",e)}),_extra.registerModule("MouseEventByPasser",function(){"use strict";function e(e){}_extra.registerClass("MouseEventByPasser",e)}),_extra.registerModule("SlideObjectEnterExitEventManager",function(){"use strict";function e(e){function t(){r||(e.dispatchEvent(_extra.eventManager.events.ENTER),r=!0)}function a(){r&&(e.dispatchEvent(_extra.eventManager.events.EXIT),r=!1)}var r=!1;this.setCurrentDispatcher=function(e){this.dispatcher!==e&&(this.dispatcher&&(this.dispatcher.removeEventListener("internalinitialization",t),this.dispatcher.removeEventListener("internalunload",a)),this.dispatcher=e,this.dispatcher&&(r=this.dispatcher.isInitialized,this.dispatcher.addEventListener("internalinitialization",t),this.dispatcher.addEventListener("internalunload",a)))}}_extra.registerClass("SlideObjectEnterExitEventManager",e)}),_extra.registerModule("SlideObjectStateManager",function(){"use strict";function e(e,t){function a(e){var a,r;for(var n in t)if(t.hasOwnProperty(n)){a=t[n];for(r in a)if(a.hasOwnProperty(r)&&r===e)return!0}return!1}function r(e){if("boolean"==typeof e||_extra.w.isNaN(e)){if("string"==typeof e){var t=e.toLowerCase();"true"===t?e=!0:"false"===t&&(e=!1)}}else e=""===e?!1:_extra.w.parseFloat(e);return e}function n(e,t){if(null===t&&(t=!0),e=r(e),"object"!=typeof t)return e==t;var a=t;switch(t=a.value,a.modifier){case"!":return e!=t;case">":return e>t;case"<":return t>e;case">=":return e>=t;case"<=":return t>=e}}function i(t,a){if(t){var r,i,s;for(var o in a)if(a.hasOwnProperty(o)){r=a[o],s=!0;for(i in r)if(r.hasOwnProperty(i)&&!n(_extra.variableManager.getVariableValue(i),r[i])){s=!1;break}if(s)return e.changeState(o),!0}}return!1}function s(){i(c,t.d)||i(l,t.r)||i(!0,t.n)||e.changeState(u)}var o=this,l=!1,c=!1,u=e.state;this.slideObject=e,this.data=t,this.mainDIV=_extra.captivate.projectContainer,this.onRollover=function(){e.removeEventListener(_extra.eventManager.events.MOUSE_OVER,o.onRollover),l=!0,s(),e.addEventListener(_extra.eventManager.events.MOUSE_OUT,o.onRollout),o.mainDIV.addEventListener(_extra.eventManager.events.MOUSE_OUT,o.onRollout)},this.onRollout=function(){o.mainDIV.removeEventListener(_extra.eventManager.events.MOUSE_OUT,o.onRollout),e.removeEventListener(_extra.eventManager.events.MOUSE_OUT,o.onRollout),l=!1,s(),e.addEventListener(_extra.eventManager.events.MOUSE_OVER,o.onRollover)},this.onMouseDown=function(){e.removeEventListener(_extra.eventManager.events.MOUSE_DOWN,o.onMouseDown),c=!0,s(),_extra.w.document.addEventListener(_extra.eventManager.events.MOUSE_UP,o.onMouseUp)},this.onMouseUp=function(){_extra.w.document.removeEventListener(_extra.eventManager.events.MOUSE_UP,o.onMouseUp),c=!1,s(),e.addEventListener(_extra.eventManager.events.MOUSE_DOWN,o.onMouseDown)},t.r&&e.addEventListener(_extra.eventManager.events.MOUSE_OVER,this.onRollover),t.d&&e.addEventListener(_extra.eventManager.events.MOUSE_DOWN,this.onMouseDown),this.onStateChangeCallback=function(e){a(e.stateName)||(u=e.stateName)},_extra.slideObjects.states.changeCallback.addCallback(e.name,this.onStateChangeCallback);var d,b,_,f,g,x={};for(d in t)if(t.hasOwnProperty(d)){b=t[d];for(_ in b)if(b.hasOwnProperty(_)){f=b[_];for(g in f)f.hasOwnProperty(g)&&(x[g]||(_extra.variableManager.listenForVariableChange(g,s),x[g]=!0))}}s()}e.prototype.unload=function(){this.slideObject.removeEventListener(_extra.eventManager.events.MOUSE_OVER,this.onRollover),this.slideObject.removeEventListener(_extra.eventManager.events.MOUSE_OUT,this.onRollout),this.slideObject.removeEventListener(_extra.eventManager.events.MOUSE_DOWN,this.onMouseDown),_extra.w.document.removeEventListener(_extra.eventManager.events.MOUSE_UP,this.onMouseUp),this.mainDIV.removeEventListener(_extra.eventManager.events.MOUSE_OUT,this.onRollout),_extra.slideObjects.states.changeCallback.removeCallback(this.slideObject.name,this.onStateChangeCallback),this.slideObject=null,this.data=null,this.mainDIV=null},_extra.registerClass("SlideObjectStateManager",e)}),_extra.registerModule("VariableEventManager",["VariableEventProxy"],function(){"use strict";function e(e,t){this._data={},this._softwareAddListener=e,this._softwareRemoveListener=t}_extra.registerClass("VariableEventManager",e),e.prototype.getListenerData=function(e,t,a){var r,n;if(this._data.hasOwnProperty(e)){r=this._data[e];for(var i=0;i<r.length;i+=1)if(n=r[i],n.rawFunction===t)return a&&r.splice(i,1),n}return null},e.prototype.hasListener=function(e,t){return null!==this.getListenerData(e,t)},e.prototype.addListener=function(e,t){if(this._data.hasOwnProperty(e)){if(this.hasListener(e,t))return}else this._data[e]=[];var a={rawFunction:t,wrappedFunction:function(){a.rawFunction(new _extra.classes.VariableEventProxy(arguments))}};this._data[e].push(a),this._softwareAddListener(e,a.wrappedFunction)},e.prototype.removeListener=function(e,t){var a=this.getListenerData(e,t,!0);a&&this._softwareRemoveListener(e,a.wrappedFunction)}}),_extra.registerModule("createSlideObjectData",["factoryManager"],function(){"use strict";_extra.factories.createSlideObjectData=function(e,t,a){switch(a){case _extra.dataTypes.slideObjects.TEXT_ENTRY_BOX:return new _extra.classes.TextEntryBoxDataProxy(e,t,a);case _extra.dataTypes.slideObjects.SHAPE:return new _extra.classes.ShapeDataProxy(e,t,a);default:return new _extra.classes.BaseSlideObjectDataProxy(e,t,a)}}}),_extra.registerModule("createSlideObjectProxy",["factoryManager"],function(){"use strict";_extra.factories.createSlideObjectProxy=function(e,t){var a=_extra.dataManager.getSlideObjectDataByName(e);switch(a.type){case _extra.dataTypes.slideObjects.TEXT_ENTRY_BOX:return new _extra.classes.TextEntryBoxProxy(t,a);case _extra.dataTypes.slideObjects.VIDEO:return new _extra.classes.VideoProxy(t,a);default:return new _extra.classes.BaseSlideObjectProxy(t,a)}}}),_extra.registerModule("createStateDataProxy",["factoryManager"],function(){"use strict";_extra.factories.createStateDataProxy=function(e,t){switch(e){case _extra.dataTypes.slideObjects.TEXT_ENTRY_BOX:return new _extra.classes.TextEntryBoxStateDataProxy(t);case _extra.dataTypes.slideObjects.BUTTON:return new _extra.classes.ButtonStateDataProxy(t);case _extra.dataTypes.slideObjects.VIDEO:return new _extra.classes.VideoStateDataProxy(t);case _extra.dataTypes.slideObjects.WIDGET:return new _extra.classes.WidgetStateDataProxy(t);case _extra.dataTypes.slideObjects.SHAPE:return new _extra.classes.ShapeStateDataProxy(t);case _extra.dataTypes.slideObjects.WEB_OBJECT:return new _extra.classes.WebObjectStateDataProxy(t);default:return new _extra.classes.StateDataProxy(t)}}}),_extra.registerModule("factoryManager",function(){"use strict";_extra.factories={}}),_extra.registerModule("actionManager",["softwareInterfacesManager"],function(){"use strict";var e="success",t="failure",a="focuslost";_extra.actionManager={callActionOn:function(r,n){var i,s=_extra.dataManager.getSlideObjectDataByName(r);if(s)if(s.isInteractiveObject)switch(n){case e:i=s.successAction;break;case t:i=s.failureAction;break;case a:s.focusLostAction?i=s.focusLostAction:_extra.error("CV011",r)}else _extra.error("CV012",r);else _extra.error("CV013",r);i&&_extra.captivate.movie.executeAction(i)}}},_extra.CAPTIVATE),_extra.registerModule("alertManager",["softwareInterfacesManager","AlertProxy"],function(){"use strict";var e=_extra.captivate.api.ShowWarning;_extra.alertManager={sendAlert:function(t){function a(){r(),s=n(),i(),s.show()}function r(){t.message&&(t.message=_extra.variableManager.replaceVariablesInString(t.message)),t.title&&(t.title=_extra.variableManager.replaceVariablesInString(t.title))}function n(){return s=e(t.message,t.title,!1),new _extra.classes.AlertProxy(s)}function i(){if(t.firstButtonAction){var e=s.getFirstButtonAction();s.setFirstButtonAction(function(){e(),t.firstButtonAction()})}}var s;a()}}},_extra.CAPTIVATE),_extra.registerModule("audioManager",["softwareInterfacesManager","Callback","hookManager"],function(){"use strict";_extra.audioManager={audioDataCallback:new _extra.classes.Callback},_extra.addHookAfter(_extra.captivate.audioManager,"allocAudioChannel",function(e){_extra.audioManager.audioDataCallback.sendToCallback(e.id,e)}),_extra.addHookAfter(_extra.audioManager.audioDataCallback,"addCallback",function(e,t){var a=_extra.captivate.audioManager.objectAudios[_extra.slideManager.currentInternalSlideId][e];a&&a.nativeAudio&&t(a)})},_extra.CAPTIVATE),_extra.registerModule("cssManager",function(){"use strict";_extra.$("<style type='text/css'> .extra-mouse-disabled{ pointer-events: none; };</style>").appendTo("head"),_extra.$("<style type='text/css'> .extra-hand-cursor{ cursor:pointer;  };</style>").appendTo("head"),_extra.cssManager={addClassTo:function(e,t){_extra.$(e).addClass(t)},removeClassFrom:function(e,t){_extra.$(e).removeClass(t)},editCSSOn:function(e,t,a){_extra.$(e).css(t,a)}}}),_extra.registerModule("focusManager",[],function(){"use strict";_extra.focusManager={getSlideObjectFocusDivName:function(e){var t=_extra.dataManager.getSlideObjectDataByName(e);switch(t.type){case _extra.dataTypes.slideObjects.TEXT_ENTRY_BOX:return t.inputDivName}return e},unlockFocusFrom:function(e){_extra.slideObjects.model.write(e,"lockFocus",!1)},lockFocusTo:function(e){_extra.slideObjects.model.write(e,"lockFocus",!0)}}}),_extra.registerModule("hookManager",["slideManager_global"],function(){"use strict";function e(e,t,a){var n={location:e,methodName:t,hookMethod:a,originalMethod:e[t]};return n.location[n.methodName]=function(){var e,t=arguments;if(n.callHookBeforeOriginal){if(e=n.hookMethod.apply(this,arguments),"[object Arguments]"===_extra.w.Object.prototype.toString.call(e))t=e;else if(void 0!==e)return e;return n.originalMethod.apply(this,t)}return e=n.originalMethod.apply(this,t),n.hookMethod.apply(this,arguments),e},r.push(n),n}function t(e){var t=r[e];t&&(r.splice(e,1),t.location[t.methodName]=t.originalMethod)}function a(e,t,a){for(var n,i=0;i<r.length;i+=1)if(n=r[i],n.location===e&&n.methodName===t&&(!a||n.hookMethod===a))return i;return-1}var r=[];_extra.addHookAfter=function(t,a,r){var n=e(t,a,r);n.callHookBeforeOriginal=!1},_extra.addHookBefore=function(t,a,r){var n=e(t,a,r);n.callHookBeforeOriginal=!0},_extra.addHook=_extra.addHookAfter,_extra.hasHook=function(e,t){return a(e,t)>-1},_extra.removeHook=function(e,r,n){var i=a(e,r,n);return i>-1?(t(i),!0):!1},_extra.addOneTimeHook=function(e,t,a){var r=function(){a.apply(this,arguments),_extra.removeHook(e,t,r)};_extra.addHookAfter(e,t,r)}}),_extra.registerModule("movieStatusManager",["softwareInterfacesManager","variableManager","eventManager"],function(){"use strict";_extra.movieStatus={FPS:_extra.captivate.FPS,totalFrames:_extra.captivate.totalFrames,isPlaying:function(){return!_extra.captivate.movie.paused},isPaused:function(){return _extra.captivate.movie.paused},isCurrentFrameWithinRange:function(e,t){return _extra.movieStatus.currentFrame<=t&&_extra.movieStatus.currentFrame>=e}},_extra.variableManager.listenForVariableChange("cpInfoCurrentFrame",function(){var e=_extra.variableManager.getVariableValue("cpInfoCurrentFrame");e=_extra.w.Math.min(_extra.movieStatus.totalFrames,e),e!==_extra.movieStatus.currentFrame&&(_extra.movieStatus.currentFrame=e,_extra.eventManager.eventDispatcher.dispatchEvent(_extra.createEvent("newframe")))})},_extra.CAPTIVATE),_extra.registerModule("publicAPIManager",function(){"use strict";return function(){_extra.w.X=_extra.X,_extra.X._=_extra,_extra.X.getSlideData=_extra.slideManager.getSlideData,_extra.X.gotoSlide=_extra.slideManager.gotoSlide,_extra.X.getSlideObjectByName=_extra.slideObjects.getSlideObjectByName}}),_extra.registerModule("queryManager",function(){"use strict";_extra.WILDCARD_CHARACTER="@",_extra.GLOBAL_WILDCARD_CHARACTER="#",_extra.queryList=function(e,t,a){a||(a=_extra.getQueryType(e));var r=e.indexOf(a);if(r>-1){var n=e.substr(0,r),i=e.substr(r+1,e.length-1),s=[],o=function(e){e.substr(0,n.length)===n&&e.substr(e.length-i.length,e.length-1)===i&&s.push(e)};if(t.constructor===_extra.w.Array)for(var l=0;l<t.length;l+=1)o(t[l]);else if("object"==typeof t)for(var c in t)t.hasOwnProperty(c)&&o(c);return 0===s.length&&(s=null),s}return null},_extra.isLocalQuery=function(e){return e.indexOf(_extra.WILDCARD_CHARACTER)>-1},_extra.isGlobalQuery=function(e){return e.indexOf(_extra.GLOBAL_WILDCARD_CHARACTER)>-1},_extra.isQuery=function(e){return _extra.isLocalQuery(e)||_extra.isGlobalQuery(e)},_extra.getQueryType=function(e){return _extra.isLocalQuery(e)?_extra.WILDCARD_CHARACTER:_extra.isGlobalQuery(e)?_extra.GLOBAL_WILDCARD_CHARACTER:!1}}),_extra.registerModule("URLManager",["softwareInterfacesManager","hookManager"],function(){"use strict";function e(e){_extra.addHookBefore(e.openURLLocation,e.openURLMethodName,function(e){return arguments[0]=_extra.variableManager.replaceVariablesInString(e),arguments})}e(_extra.captivate||_extra.storyline)}),_extra.registerModule("AlertProxy",[],function(){"use strict";function e(e){this._data=e}e.prototype.getFirstButtonAction=function(){return this._data.m_firstButtonHandler},e.prototype.setFirstButtonAction=function(e){this._data.registerFirstButtonHandler(e)},e.prototype.show=function(){this._data.show()},_extra.registerClass("AlertProxy",e)},_extra.CAPTIVATE),_extra.registerModule("PlaybarProxy",function(){"use strict";function e(){function e(){t=_extra.w.document.getElementById("playbarSlider"),r=null!==t,a=_extra.w.document.getElementById("playbarSliderThumb"),n.update()}var t,a,r,n=this;_extra.w.document.getElementById("playbar");this._scrubbing=!0,this.update=function(){_extra.slideManager&&_extra.cssManager&&r&&n.managerPlaybarScrubbing()},this.managerPlaybarScrubbing=function(){n._scrubbing?(_extra.cssManager.removeClassFrom(t.parentNode,"extra-mouse-disabled"),_extra.cssManager.removeClassFrom(t,"extra-mouse-disabled"),_extra.cssManager.removeClassFrom(a,"extra-mouse-disabled")):(_extra.cssManager.addClassTo(t.parentNode,"extra-mouse-disabled"),_extra.cssManager.addClassTo(t,"extra-mouse-disabled"),_extra.cssManager.addClassTo(a,"extra-mouse-disabled"))},this.init=function(){_extra.slideManager.enterSlideCallback.addCallback("*",e),_extra.w.addEventListener("resize",e),e()},_extra.slideManager?this.init():_extra.registerModule("PlaybarProxy_initialize",["slideManager_global","cssManager"],function(){_extra.captivate.playbar.init()})}e.prototype={set scrubbing(e){this._scrubbing=e,this.update()},get scrubbing(){return this._scrubbing}},_extra.registerClass("PlaybarProxy",e)},_extra.CAPTIVATE),_extra.registerModule("SlideDataProxy",function(){"use strict";function e(e){this._data=e}e.prototype={get name(){return this._data.base.lb},get slideObjects(){if(!this._slideObjects){this._slideObjects=[];for(var e=this._data.base.si,t=0;t<e.length;t+=1)this._slideObjects.push(e[t].n)}return this._slideObjects},get id(){return this._data.container.dn},get complete(){return this._data.base.v},set complete(e){this._data.base.v=e}},_extra.registerClass("SlideDataProxy",e,_extra.CAPTIVATE)},_extra.CAPTIVATE),_extra.registerModule("SlideObjectQuestionDataProxy",[],function(){"use strict";function e(e){this.data=e,this.name=e.title}e.prototype={get score(){return this.data.getScore()},set score(e){this.data.setScore(e)},get maxScore(){return this.data.weighting}},_extra.registerClass("SlideObjectQuestionDataProxy",e,_extra.CAPTIVATE)},_extra.CAPTIVATE),_extra.registerModule("VariableEventProxy",function(){"use strict";function e(e){this._data=e[0]}e.prototype={get variableName(){return this._data.Data.varName},get oldValue(){return this._data.Data.oldVal},get newValue(){return this._data.Data.newVal}},_extra.registerClass("VariableEventProxy",e,_extra.CAPTIVATE)},_extra.CAPTIVATE),_extra.registerModule("generalDataManager",["softwareInterfacesManager","dataTypeConverters","createSlideObjectData"],function(){"use strict";function e(e){var t;for(var a in _extra.captivate.allSlideObjectsData)if(_extra.captivate.allSlideObjectsData.hasOwnProperty(a)&&(t=_extra.captivate.allSlideObjectsData[a],t.uid===e))return t.dn;return null}_extra.dataManager={getSlideObjectDataByName:function(e){var t={base:_extra.captivate.allSlideObjectsData[e]};return t.base?(t.container=_extra.captivate.allSlideObjectsData[e+"c"],t.container||_extra.log("Could not find container data for: "+e),_extra.factories.createSlideObjectData(e,t,_extra.dataTypes.convertSlideObjectType(t.base.type,e))):null},getSlideObjectTypeByName:function(e){var t=_extra.captivate.allSlideObjectsData[e];return t?_extra.dataTypes.convertSlideObjectType(t.type,e):_extra.w.NaN},getSlideObjectDataByID:function(t){var a,r=_extra.captivate.api.getDisplayObjByCP_UID(t);return a=r?r.parentDivName:e(t),_extra.dataManager.getSlideObjectDataByName(a)}}},_extra.CAPTIVATE),_extra.registerModule("debuggingManager",function(){"use strict";_extra.debugging={log:function(e){_extra.console&&_extra.console.log(e)},error:function(e){var t;if(_extra.debugging.errors&&_extra.debugging.errors[e]){var a=Array.prototype.slice.call(arguments);a.splice(0,1),t=e,e=_extra.debugging.errors[e].apply(this,a)}_extra.preferences&&_extra.preferences.debugMode?(e="<div id='cpextra-alert-thinner' style='padding-right: 20px;'>"+e+"</div>",t?_extra.w.alert(e,"CpExtra encountered error: <b>"+t+"</b>"):_extra.w.alert(e,"CpExtra says...")):_extra.console&&_extra.console.error(e)}}}),_extra.registerModule("errors",["debuggingManager"],function(){"use strict";_extra.debugging.errors={PV001:function(e){return"This browser does not support <b>"+e+" storage variables.</b> Please upgrade to the latest version of the browser.<br/>If this is not possible, either remove storage variables from this project <b>OR</b> set the <b>xprefDebugMode</b> variable to <b>false</b> to stop this message appearing."},AS001:function(e,t,a){return"<b>"+e+"</b> has a state named <b>"+t+"</b>. <br/>However, there appears to be no matching variable named <b>"+a+"</b>. <br/>To correct this issue ensure variable and state names match."},AS002:function(e,t,a){return"<b>"+e+"</b> has a state named <b>"+t+"</b>. <br/>However, a state name cannot use a variable name (e.g. <b>"+a+"</b>) more than once. <br/>To fix this error, ensure there is only once reference to <b>"+a+"</b> in the state name."},AS003:function(e){return"At _extra.slideObjects.states.registerStateMetaData, tried to register data for <b>"+e+"</b> twice. Has unloading of this data from a previous slide been unsuccessful?"},AS004:function(e,t,a){return"<b>"+e+"</b> has a state named <b>"+t+"</b>. <br/>However, there is no value written after the keyword <b>"+a+"</b>. Therefore CpExtra does not know how to evaluate the <b>"+t+"</b> state. <br/>To correct this issue write a value after the <b>"+a+"</b> keyword."},PE001:function(e){return"Tried to access explicitly defined variable <b>$$"+e+"$$</b>.<br/>However, thre is no variable of the name <b>"+e+"</b>.<br/>To correct this issue please check that you have spelled the variable's name correctly."},CV001:function(e){return"Could not find a slide object in the movie by the name of <b>"+e+"</b>.<br/>To resolve this issue, please find the xcmnd variable that is attempting to reference this object and check you have spelt the object's name correctly."},CV002:function(e){return"Could not find a variable in the movie by the name of <b>"+e+"</b>.<br/>To resolve this issue, please find the xcmnd variable that is attempting to reference this variable and check you have spelt the variable's name correctly."},CV003:function(e){return"The string <b>"+e+"</b> does not match an expected keyword for the command variable it was assigned to.<br/>Please check the spelling of <b>"+e+"</b> and that you are assigning to the correct command variable"},CV004:function(e){return"Tried to use the @syntax query <b>"+e+"</b> on a parameter that doesn't allow @syntax queries.<br/>Please remove the @syntax query and replace it with a singular property."},CV005:function(e){return"Tried to pass use the value <b>"+e+"</b> for a property that requires a number.<br/>Please check the spelling of <b>"+e+"</b>"},CV006:function(e,t){return"Tried to write to slide object <b>"+e+"</b>'s <b>"+t+"</b> property.<br/>However, this is not a property that CpExtra allows you to set. <br/>Do not attempt to write to the <b>"+t+"</b> property"},CV007:function(e){return"Tried to interact with slide object <b>"+e+"</b>. However, this action requires an interactive object, and <b>"+e+"</b> is not an interactive object.<br/>Please check the spelling of <b>"+e+"</b>. "},CV008:function(e){return"Received number <b>"+e+"</b> where a variable name was expected. If you assign a variable name to another variable, Captivate automatically swaps out that string with the variable's value. <br/>To fix this issue, surround the variable name in square braces [].<br/>Example: <b>[MyVar]</b>."},CV010:function(e){return"Unable to call a <b>"+e+"</b> action on a slide object because <b>"+e+"</b> is not listed as a valid action. <br/>Please change <b>"+e+"</b> to <b>success, failure </b> or <b>focuslost</b>."},CV011:function(e){return"Tried to call a <b>focus lost</b> action on <b>"+e+"</b>. However this interactive object has no <b>focus lost</b> action.<br/>Please ensure <b>"+e+"</b> is a Text Entry Box."},CV012:function(e){return"Could not call action on <b>"+e+"</b> as it is not an interactive object. <br/>To resolve this issue, change <b>"+e+"</b> to be an interactive object (i.e. an object with success / failure criteria)."},CV013:function(e){return"Tried to call an action on <b>"+e+"</b> but could not find any slide objects with that name. <br/>Please ensure there is an interactive object with the name <b>"+e+"</b>.";
},CV020:function(e){return"Tried to use xcmndSetCursor to apply cursor named <b>"+e+"</b> to a slide object. <b>"+e+"</b> is not a valid cursor name. <br/>Please check if you have misspelt the cursor name."},CV030:function(e,t){var a;return"addEventListener"===t?a="add":"removeEventListener"===t&&(a="remove"),"Tried to "+a+" an event listener on <b>"+e+"</b> but could not find any slide objects with that name. <br/>Please ensure there is a slide object with the name <b>"+e+"</b>."},CV031:function(e,t){var a;return"addEventListener"===t?a="add":"removeEventListener"===t&&(a="remove"),"Unable to "+a+" the <b>"+e+"</b> event because <b>"+e+"</b> is not listed as a valid event. <br/>Please check the spelling of <b>"+e+"</b>."},CV040:function(e,t){return"Tried alter the <b>"+t+"</b> property on <b>"+e+"</b> but could not find any slide objects with that name. <br/>Please ensure there is a slide object with the name <b>"+e+"</b>."},CV041:function(e,t,a){return"Tried to change the <b>"+t+"</b> property on <b>"+e+"</b> to <b>"+a+"</b>, but that is not a valid value.<br/>Please check the spelling of <b>"+a+"</b>."},CV042:function(e,t,a){return"Tried to set variable <b>"+e+"</b> with value of slide object <b>"+t+"'s "+a+"</b> property. However, could not find any slide object with the object name <b>"+t+"</b>.<br/>Please check the spelling of <b>"+t+"</b>."},CV050:function(e){return"Tried to reset variable <b>"+e+"</b> to its default value, but could not find any variables by the name of <b>"+e+"</b>.<br/>Please check the spelling of <b>"+e+"</b>."},CV060:function(e){return"Tried to flush <b>"+e+"</b> from storage, but <b>"+e+"</b> is not registered as a storage variable. <br/>Storage variables should have a prefix of <b>ls_</b> or <b>ss_</b>.<br/>Other keywords that can be passed to <b>xcmndFlushStorage</b> are <b>local, session,</b> and <b>all</b><br/>Please check the spelling of <b>"+e+"</b>."},CV070:function(e){return"Tried to assign <b>xcmndCompleteSlide</b> an improper range of slides. Could not indentify what <b>"+e+"</b> is supposed to represent. <br>Please check the spelling of <b>"+e+"</b>."},CV071:function(e){return"Tried to mark slide <b>"+e+"</b> as complete, but could not find any slide with the name <b>"+e+"</b>.<br/>Please check the spelling of <b>"+e+'</b>. Slide names are <b>case sensitive</b>. If the slide name contains spaces, wrap the slide name in "double quotes."'},CV072:function(e,t){return"Tried to mark slide number <b>"+e+"</b> as complete, but there are only <b>"+t+"</b> slides in the project.<br/>Perhaps you have deleted a few slides and this command needs updating."}}}),_extra.registerModule("eventManager",["EventMediator","EventDispatcher","slideObjectProxyAutoInstantiator"],function(){"use strict";var e={},t="ontouchstart"in _extra.w.document.documentElement;_extra.eventManager={useTouchEvents:t,lastEventTarget:void 0,eventDispatcher:new _extra.classes.EventDispatcher,addEventListener:function(e,t,a,r){var n=_extra.eventManager.getEventMediator(e);n&&n.addEventListener(t,a,r)},removeEventListener:function(e,t,a,r){var n=_extra.eventManager.getEventMediator(e);n&&n.removeEventListener(t,a,r)},getEventMediator:function(t){if(!e[t]){var a=new _extra.classes.EventMediator;a.setId(t),a.registerOnEmptyCallback(function(){delete e[t]}),e[t]=a}return _extra.slideObjects.proxyAutoInstantiator.check(t),e[t]},hasEventMediatorFor:function(t){return e.hasOwnProperty(t)},setEventTarget:function(e){_extra.eventManager.lastEventTarget=e},events:{MOUSE_DOWN:t?"touchstart":"mousedown",MOUSEDOWN:t?"touchstart":"mousedown",MOUSE_UP:t?"touchend":"mouseup",MOUSEUP:t?"touchend":"mouseup",MOUSE_MOVE:t?"touchmove":"mousemove",MOUSEMOVE:t?"touchmove":"mousemove",MOUSE_OVER:"mouseover",MOUSEOVER:"mouseover",MOUSE_OUT:"mouseleave",MOUSEOUT:"mouseleave",ROLLOVER:"mouseover",ROLLOUT:"mouseout",RIGHT_CLICK:"contextmenu",RIGHTCLICK:"contextmenu",CLICK:"click",DOUBLE_CLICK:"dblclick",DOUBLECLICK:"dblclick",DBLCLICK:"dblclick",ENTER:"enter",EXIT:"exit",VIDEO_ENDED:"videoended",VIDEOENDED:"videoended",VIDEO_END:"videoended",VIDEOEND:"videoended",AUDIO_ENDED:"audioended",AUDIOENDED:"audioended",AUDIO_END:"audioended",AUDIOEND:"audioended"}},_extra.slideObjects.proxyAutoInstantiator.registerModelLookup(_extra.eventManager.hasEventMediatorFor)}),_extra.registerModule("touchEventManager",["eventManager","slideObjectManager_global"],function(){"use strict";function e(e){_extra.slideObjects.getSlideObjectByDIV(e.target)}function t(e){var t=_extra.slideObjects.getSlideObjectByDIV(e.target);t&&_extra.slideObjects.states.doesSlideObjectHaveDownState(t.name)&&t.dispatchEvent(_extra.eventManager.events.MOUSE_UP)}_extra.w.document.addEventListener(_extra.eventManager.events.MOUSE_DOWN,e),_extra.w.document.addEventListener(_extra.eventManager.events.MOUSE_UP,t)}),_extra.registerModule("debugModePreferenceManager",["preferenceManager","debuggingManager"],function(){"use strict";var e={enable:function(){_extra.preferences.debugMode=!0},disable:function(){_extra.preferences.debugMode=!1}};_extra.preferenceManager.registerPreferenceModule("DebugMode",e)?e.enabled||e.disable():e.enable()}),_extra.registerModule("doubleClickDelayPreference",["preferenceManager"],function(){"use strict";_extra.preferences.doubleClickDelay=0;var e={enable:function(){},update:function(t){if("number"!=typeof t){if(_extra.w.isNaN(t))return void e.disable();t=_extra.w.parseFloat(t)}_extra.preferences.doubleClickDelay=1e3*t},disable:function(){_extra.preferences.doubleClickDelay=0}};_extra.preferenceManager.registerPreferenceModule("DoubleClickDelay",e)||e.update(.5)}),_extra.registerModule("doubleDidgitPreferences",["preferenceManager"],function(){"use strict";function e(e){var t={suffix:e.suffix,enable:function(){},disable:function(){},update:function(t){t=t?t.toLowerCase():"";for(var a,r,n,i=!1,s=0;s<e.linkedVariables.length;s+=1)a=e.linkedVariables[s],n=_extra.preferences.doubleDidgits[a.variable],r=-1!==t.indexOf(a.term),r!==n&&(_extra.preferences.doubleDidgits[a.variable]=r,i=!0);i&&_extra.preferences.hasOwnProperty(e.updateMethodName)&&_extra.preferences[e.updateMethodName]()}};_extra.preferenceManager.registerPreferenceModule(e.suffix,t)&&t.update(_extra.variableManager.getVariableValue(t.name))}_extra.preferences.doubleDidgits={ProjectTotalHours:!1,ProjectTotalMinutes:!1,ProjectTotalSeconds:!0,ProjectElapsedHours:!1,ProjectElapsedMinutes:!1,ProjectElapsedSeconds:!0},e({suffix:"UseDoubleDigitElapsedTimeValues",updateMethodName:"calculateElapsedProjectTime",linkedVariables:[{term:"hour",variable:"ProjectElapsedHours"},{term:"minute",variable:"ProjectElapsedMinutes"},{term:"second",variable:"ProjectElapsedSeconds"}]}),e({suffix:"UseDoubleDigitTotalTimeValues",updateMethodName:"calculateTotalProjectTime",linkedVariables:[{term:"hour",variable:"ProjectTotalHours"},{term:"minute",variable:"ProjectTotalMinutes"},{term:"second",variable:"ProjectTotalSeconds"}]})}),_extra.registerModule("multichoiceRolloverPreferences",["preferenceManager","hookManager","slideObjectManager_global"],function(){"use strict";_extra.preferences.multichoiceRolloverColor="#000000",_extra.preferences.multichoiceRolloverOpacity=1;var e={enable:function(){},disable:function(){e.update("#000000")},update:function(e){"string"!=typeof e&&(e=_extra.w.String(e)),"#"!==e.charAt(0)&&(e="#"+e),_extra.preferences.multichoiceRolloverColor=e}},t={enable:function(){},disable:function(){t.update(0)},update:function(t){if("number"!=typeof t){if(_extra.w.isNaN(t))return void e.disable();t=_extra.w.parseFloat(t)}_extra.preferences.multichoiceRolloverOpacity=t/100}},a=_extra.preferenceManager.registerPreferenceModule("MultichoiceRolloverColor",e),r=_extra.preferenceManager.registerPreferenceModule("MultichoiceRolloverOpacity",t);if(_extra.captivate.api.MCQInput&&a||r){var n=[];_extra.slideManager.enterSlideCallback.addCallback("*",function(){for(var e,t=n.length-1;t>=0;t-=1)e=n[t],e.base.removeEventListener("mouseover",e.handler),n.splice(t,1)}),_extra.addHookAfter(_extra.captivate.api.MCQInput.prototype,"addHighlightBoxMouseHandlers",function(){function e(){_extra.captivate.api.disableInteractions||"disabled"===t.value||(void 0!==_extra.preferences.multichoiceRolloverColor&&(a.style.backgroundColor=_extra.preferences.multichoiceRolloverColor),void 0!==_extra.preferences.multichoiceRolloverOpacity&&(a.style.opacity=_extra.preferences.multichoiceRolloverOpacity))}var t=this,a=_extra.w.document.getElementById(this.element.id+"_dummyhighlight"),r=_extra.w.document.getElementById(this.answerTextCanvasDivName).parentNode,i=_extra.w.parseInt(a.style.zIndex),s=this.answerLabelCanvasElement.parentNode;r.style.position="absolute",r.style.zIndex=i+1,s.style.zIndex=i+2,this.highlightElement.addEventListener("mouseover",e),n.push({base:this.highlightElement,listener:e})})}},_extra.CAPTIVATE),_extra.registerModule("preferenceManager",["variableManager","parameterParser"],function(){"use strict";var e="xpref",t={};_extra.preferences={},_extra.preferenceManager={registerPreferenceModule:function(a,r){function n(){var e=_extra.variableManager.getVariableValue(i);_extra.variableManager.parse["boolean"](e)?(r.enabled||(r.enable(e),r.enabled=!0),r.update&&r.update(e)):r.enabled&&(r.disable(),r.enabled=!1)}var i=e+a;if(!_extra.variableManager.hasVariable(i)&&(i="_"+i,!_extra.variableManager.hasVariable(i)))return!1;if(t[i])throw new Error("Illegally attempted to register two behaviour modules with the name: "+a);if(!r.enable)throw new Error("Illegally tried to submit a behaviour module without an enable method specified in the preferenceInfo parameter object.");if(!r.disable)throw new Error("Illegally tried to submit a behaviour module without a disable method specified in the preferenceInfo parameter object.");return t[i]=r,r.enabled=!1,_extra.variableManager.listenForVariableChange(i,n),n(),!0}}}),_extra.registerModule("preventTextEntryBoxOverwrite",["slideObjectManager_global","preferenceManager","eventManager","globalSlideObjectTypes"],function(){"use strict";function e(e){var t=_extra.dataManager.getSlideObjectDataByName(e),a=_extra.slideObjects.getSlideObjectByName(e),r=_extra.captivate.variableManager.getVariableValue(t.variable);a._ignoreNextDefaultText=!0,a.value=r}var t={enable:function(){_extra.slideObjects.enteredSlideChildObjectsCallbacks.addCallback(_extra.dataTypes.slideObjects.TEXT_ENTRY_BOX,e)},disable:function(){_extra.slideObjects.enteredSlideChildObjectsCallbacks.removeCallback(_extra.dataTypes.slideObjects.TEXT_ENTRY_BOX,e)}};_extra.preferenceManager.registerPreferenceModule("PreventTEBOverwrite",t)},_extra.CAPTIVATE),_extra.registerModule("xprefDisablePlaybarScrubbing",["preferenceManager","cssManager","softwareInterfacesManager"],function(){"use strict";var e={enable:function(){_extra.captivate.playbar.scrubbing=!1},disable:function(){_extra.captivate.playbar.scrubbing=!0}};_extra.preferenceManager.registerPreferenceModule("DisablePlaybarScrubbing",e)},_extra.CAPTIVATE),_extra.registerModule("saveLocalStoragePreference",["preferenceManager","eventManager"],function(){"use strict";var e={enable:function(){},update:function(t){switch(t?_extra.w.isNaN(t)&&(t=t.toLowerCase()):t="",e.disable(),t){case"onenterslide":case"onslideenter":_extra.slideManager.enterSlideCallback.addCallback("*",_extra.variableManager.saveStorageVariables),_extra.w.addEventListener("unload",_extra.variableManager.saveStorageVariables);break;case"disable":case"disabled":case"off":case"no":break;case"exit":case"onexit":_extra.w.addEventListener("unload",_extra.variableManager.saveStorageVariables);break;default:if(_extra.variableManager.hasParsedVariables)for(var a in _extra.variableManager.storageVariables)_extra.variableManager.storageVariables.hasOwnProperty(a)&&_extra.variableManager.listenForVariableChange(a,e.onVariableChange);else{var r=function(){_extra.eventManager.eventDispatcher.removeEventListener("variablesInitialized",r),e.update(t)};_extra.eventManager.eventDispatcher.addEventListener("variablesInitialized",r)}_extra.w.addEventListener("unload",_extra.variableManager.saveStorageVariables)}},disable:function(){_extra.slideManager.enterSlideCallback.removeCallback("*",_extra.variableManager.saveStorageVariables),_extra.w.removeEventListener("unload",_extra.variableManager.saveStorageVariables);for(var t in _extra.variableManager.storageVariables)_extra.variableManager.storageVariables.hasOwnProperty(t)&&_extra.variableManager.stopListeningForVariableChange(t,e.onVariableChange)},onVariableChange:function(e){_extra.variableManager.saveStorageVariable(e.variableName)}},t=_extra.preferenceManager.registerPreferenceModule("SaveLocalStorage",e);t||(e.enable(),e.update("change"))}),_extra.registerModule("xprefTEBUpdateToVariable",["slideObjectManager_global","preferenceManager","eventManager","globalSlideObjectTypes","slideManager_global"],function(){"use strict";function e(e){t();var a=_extra.slideObjects.getSlideObjectByName(e);a.updateToVariable=s.enabled,i[e]=a}function t(){(_extra.slideManager.currentSceneNumber!==r||_extra.slideManager.currentSlideNumber!==n)&&(a(!1),i={},r=_extra.slideManager.currentSceneNumber,n=_extra.slideManager.currentSlideNumber)}function a(e){for(var t in i)i.hasOwnProperty(t)&&(i[t].updateToVariable=e)}var r,n,i={},s={enable:function(){a(!0)},disable:function(){a(!1)}};_extra.preferenceManager.registerPreferenceModule("TEBUpdateFromVariable",s)&&(_extra.slideObjects.enteredSlideChildObjectsCallbacks.addCallback(_extra.dataTypes.slideObjects.TEXT_ENTRY_BOX,e),_extra.slideManager.enterSlideCallback.addCallback("*",t))},_extra.CAPTIVATE),_extra.registerModule("quizManager",[],function(){"use strict";_extra.quizManager={getSlideObjectQuestionData:function(e){var t=_extra.captivate.api.getQuestionObject(e);return t?new _extra.classes.SlideObjectQuestionDataProxy(t):null},getSlideObjectScore:function(e){var t=_extra.quizManager.getSlideObjectQuestionData(e);return t?t.score:null},setSlideObjectScore:function(e,t){var a=_extra.quizManager.getSlideObjectQuestionData(e);a&&("max"===t?a.score=a.maxScore:"half"===t?a.score=_extra.w.Math.round(a.maxScore/2):a.score=t)}}},_extra.CAPTIVATE),_extra.registerModule("slideManager_software",["softwareInterfacesManager","Callback"],function(){"use strict";var e,t,a=_extra.captivate.model.data.project_main.slides.split(","),r=!1,n=[];_extra.slideManager={_slideDatas:[[],[]],slideNames:[[],[]],numSlides:_extra.captivate.numSlides,currentInternalSlideId:null,currentSlideDOMElement:_extra.w.document.getElementById("div_Slide"),isSlideLoaded:!1,internalGotoSlide:function(e,t){_extra.captivate["interface"].gotoSlide(t)},getCurrentSlideNumber:function(){return _extra.captivate.variables.cpInfoCurrentSlideIndex},getCurrentSceneSlideNumber:function(){return _extra.captivate.variables.cpInfoCurrentSlideIndex},getCurrentSceneNumber:function(){return 1},hasSlideObjectOnSlide:function(e,t,r){if(r=_extra.slideManager.parseSlideNumber(t,r)){var n=_extra.captivate.model.data[e];return n&&n.apsn===a[r.slide]}return null},software_onSlideEnter:function(){this.currentInternalSlideId=a[_extra.slideManager.currentSlideNumber]},isInitiated:function(){return _extra.captivate.isInitated()},registerOnInitiatedCallback:function(e){n&&(r||(_extra.addHookAfter(_extra.w.cp,"DoCPInit",_extra.slideManager.callDoCPInitCallbacks),r=!0),n.push(e))},callDoCPInitCallbacks:function(){for(var e=0;e<n.length;e+=1)n[e]();n=null,_extra.removeHook(_extra.w.cp,"DoCPInit",_extra.slideManager.callDoCPInitCallbacks)},isSlideObjectOnSlideAndNotInTimeline:function(e){if(_extra.slideManager.hasSlideObjectOnSlide(e)){var t=_extra.dataManager.getSlideObjectDataByName(e);return!_extra.movieStatus.isCurrentFrameWithinRange(t.startFrame,t.endFrame)}return!1},isNameOfSlide:function(e){"c"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1));for(var t=0;t<a.length;t+=1)if(a[t]===e)return!0;return!1}},a.forEach(function(a){e=_extra.captivate.model.data[a],t=_extra.captivate.model.data[a+"c"],_extra.slideManager._slideDatas[1].push({base:e,container:t}),_extra.slideManager.slideNames[1].push(e.lb)}),_extra.slideManager.addEnterSlideEventListener=function(e){_extra.captivate.eventDispatcher.addEventListener(_extra.captivate.events.SLIDE_ENTER,e)},_extra.captivate.eventDispatcher.addEventListener(_extra.captivate.events.SLIDE_EXIT,function(){_extra.slideManager.isSlideLoaded=!1})},_extra.CAPTIVATE),_extra.registerModule("slideManager_global",["slideManager_software"],function(){"use strict";var e=_extra;return _extra.slideManager.currentSceneNumber=1,_extra.slideManager.currentSlideNumber=0,_extra.slideManager.currentSceneSlideNumber=0,_extra.slideManager.currentSlideID="0.0",_extra.slideManager.parseSlideNumber=function(e,t){if(void 0===t&&(t=e,e=1),"string"==typeof t){if(_extra.w.isNaN(t))return _extra.slideManager.getSlideIndexFromName(t);var a=t.split(".");switch(a.length){case 1:t=_extra.w.parseInt(a[0]);break;case 2:e=_extra.w.parseInt(a[0]),t=_extra.w.parseInt(a[1]);break;default:return null}}else void 0===t&&(e=_extra.slideManager.currentSceneNumber,t=_extra.slideManager.currentSceneSlideNumber);return _extra.slideManager._slideDatas.hasOwnProperty(e)&&_extra.slideManager._slideDatas[e].hasOwnProperty(t)?{scene:e,slide:t}:null},_extra.slideManager.getSlideName=function(e,t){return t=_extra.slideManager.parseSlideNumber(e,t),t?_extra.slideManager.slideNames[t.scene][t.slide]:null},_extra.slideManager.getSlideData=function(e,t){var a=_extra.slideManager.parseSlideNumber(e,t);return a?new _extra.classes.SlideDataProxy(_extra.slideManager._slideDatas[a.scene][a.slide]):null},_extra.slideManager.getSlideIndexFromName=function(e){for(var t,a,r=0;r<_extra.slideManager.slideNames.length;r+=1)if(t=_extra.slideManager.slideNames[r],a=t.indexOf(e),a>-1)return{scene:r,slide:a};return null},_extra.slideManager.gotoSlide=function(e,t){var a=_extra.slideManager.parseSlideNumber(e,t);return a?(_extra.slideManager.internalGotoSlide(a.scene,a.slide),!0):!1},_extra.slideManager.enactFunctionOnSlides=function(e,t){if(_extra.isQuery(e)){var a=_extra.queryList(e,_extra.slideManager.slideNames[1]);if(a)for(var r=0;r<a.length;r+=1)t(a[r])}else t(e)},_extra.slideManager.enterSlideCallback=new _extra.classes.Callback,_extra.slideManager.onSlideEnter=function(){_extra||(window._extra=e);var t=_extra.slideManager.getCurrentSceneNumber(),a=_extra.slideManager.getCurrentSlideNumber(),r=t+"."+a;_extra.slideManager.currentSceneNumber=t,_extra.slideManager.currentSlideNumber=a,_extra.slideManager.currentSceneSlideNumber=_extra.slideManager.getCurrentSceneSlideNumber(),_extra.slideManager.currentSlideID=r,-1!==_extra.slideManager.currentSceneSlideNumber&&(_extra.slideManager.enterSlideCallback.sendToCallback("*",r),_extra.slideManager.hasOwnProperty("software_onSlideEnter")&&_extra.slideManager.software_onSlideEnter(),0===t&&_extra.slideManager.enterSlideCallback.sendToCallback(a,r),_extra.slideManager.enterSlideCallback.sendToCallback(r,r))},_extra.slideManager.addEnterSlideEventListener(_extra.slideManager.onSlideEnter),function(){_extra.slideManager.isInitiated()?_extra.slideManager.onSlideEnter():_extra.slideManager.registerOnInitiatedCallback(_extra.slideManager.onSlideEnter)}}),_extra.registerModule("enterTimelineCallback",["hookManager","slideObjectManager_global"],function(){"use strict";function e(e,t){e.addEventListener(_extra.eventManager.events.ENTER,t),a[e.name]=t}function t(e){var t=a[e.name];t&&(e.removeEventListener(_extra.eventManager.events.ENTER,t),delete a[e.name])}var a={};_extra.slideObjects.enterTimelineCallback=new _extra.classes.Callback,_extra.addHookBefore(_extra.slideObjects.enterTimelineCallback,"addCallback",function(t){var a=_extra.slideObjects.getSlideObjectByName(t),r=function(){_extra.slideObjects.enterTimelineCallback.sendToCallback(t)};_extra.slideObjects.enterTimelineCallback.hasCallbackFor(t)||e(a,r)}),_extra.addHookAfter(_extra.slideObjects.enterTimelineCallback,"removeCallback",function(e){var a=_extra.slideObjects.getSlideObjectByName(e);_extra.slideObjects.enterTimelineCallback.hasCallbackFor(e)||t(a)})}),_extra.registerModule("projectSlideObjectListProcurer",["slideObjectManager_global"],function(){"use strict";function e(e,t){return e.substr(0,t.length)===t&&!_extra.w.isNaN(e.substr(t.length,e.length))}function t(t,a){return!a.hasOwnProperty("mdi")||("c"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),e(t,"Slide")||e(t,"si"))?!1:t}var a;for(var r in _extra.captivate.allSlideObjectsData)_extra.captivate.allSlideObjectsData.hasOwnProperty(r)&&(a=_extra.captivate.allSlideObjectsData[r],r=t(r,a),r&&(_extra.slideObjects.projectSlideObjectNames[r]=!0))},_extra.CAPTIVATE),_extra.registerModule("slideObjectHideShowListener",["slideObjectManager_global","hookManager"],function(){"use strict";function e(e,t){e&&_extra.addHookAfter(e.location,e.name,function(e){})}e(_extra.slideObjects._internalShowSlideObjectDetails,"show"),e(_extra.slideObjects._internalHideSlideObjectDetails,"hide")}),_extra.registerModule("slideObjectManager_software",["generalDataManager","Callback","slideManager_global","queryManager"],function(){"use strict";return _extra.slideObjects={allObjectsOfTypeCallback:new _extra.classes.Callback,_internalShowSlideObjectDetails:{location:_extra.captivate.api,name:"show"},_internalHideSlideObjectDetails:{location:_extra.captivate.api,name:"hide"},enactFunctionOnSlideObjects:function(e,t){if(_extra.isQuery(e)){var a=_extra.slideObjects.getSlideObjectNamesMatchingWildcardName(e,!1);if(a)for(var r=0;r<a.length;r+=1)t(a[r])}else t(e)},hasSlideObjectInProject:function(e){return _extra.captivate.allSlideObjectsData.hasOwnProperty(e)},getSlideObjectElement:function(e){return _extra.w.document.getElementById(e)},hide:function(e){_extra.captivate.api.hide(e)},show:function(e){_extra.captivate.api.show(e)},enable:function(e){_extra.captivate.api.enable(e)},disable:function(e){_extra.captivate.api.disable(e)},getSlideObjectNameFromStateName:function(e){var t=_extra.dataManager.getSlideObjectDataByName(e);return t&&!t.isBaseStateItem&&(t=t.getBaseStateItemData(),t&&(e=t.name)),e},getSlideObjectByDIV:function(e){var t=e.id,a="_inputField",r=null;return t.substr(t.length-a.length,t.length)===a&&(t=t.substr(0,t.length-a.length)),_extra.slideObjects.hasSlideObjectInProject(t)&&!_extra.slideManager.isNameOfSlide(t)&&(t=_extra.slideObjects.getSlideObjectNameFromStateName(t),r=_extra.slideObjects.getSlideObjectByName(t)),r},getSlideObjectNamesMatchingWildcardName:function(e,t){var a=_extra.getQueryType(e);if(a){var r,n=[];if(a===_extra.WILDCARD_CHARACTER){var i=_extra.slideManager.currentSlideDOMElement;for(r=0;r<i.childNodes.length;r+=1)n.push(i.childNodes[r].id)}else{if(a!==_extra.GLOBAL_WILDCARD_CHARACTER)return null;n=_extra.slideObjects.projectSlideObjectNames}if(n=_extra.queryList(e,n,a),n&&t){var s=[];for(r=0;r<n.length;r+=1)s.push(_extra.slideObjects.getSlideObjectProxy(n[r]));n=s}return n}return null},getNativeSlideObjectByName:function(e){return _extra.captivate.api.getDisplayObjByKey(e)},isInteractiveObject:function(e){var t=_extra.dataManager.getSlideObjectDataByName(e);return t?t.isInteractiveObject:!1},projectSlideObjectNames:{}},function(){var e,t,a=_extra.captivate.allSlideObjectsData;for(var r in a)a.hasOwnProperty(r)&&(e=a[r],t=_extra.dataTypes.convertSlideObjectType(e.type,r),_extra.slideObjects.allObjectsOfTypeCallback.sendToCallback(t,r))}},_extra.CAPTIVATE),_extra.registerModule("slideObjectManager_global",["slideObjectManager_software","queryManager"],function(){"use strict";var e={};_extra.slideObjects.enteredSlideChildObjectsCallbacks=new _extra.classes.Callback,_extra.slideObjects.getSlideObjectProxy=function(t){var a;if("object"==typeof t)a=t,t=a.id;else if(a=_extra.slideObjects.getSlideObjectElement(t),!a)return null;return e[t]||(e[t]=!0,e[t]=_extra.factories.createSlideObjectProxy(t,a)),e[t]},_extra.slideObjects.hasProxyFor=function(t){return e.hasOwnProperty(t)},_extra.slideObjects.getSlideObjectByName=function(e){return _extra.isQuery(e)?_extra.slideObjects.getSlideObjectNamesMatchingWildcardName(e,!0):_extra.slideObjects.getSlideObjectProxy(e)},_extra.slideObjects.unloadSlideObjectsFromOtherSlides=function(){for(var t in e)e.hasOwnProperty(t)&&(_extra.slideManager.hasSlideObjectOnSlide(t,_extra.slideManager.currentSceneNumber,_extra.slideManager.currentSlideNumber)||(e[t].unload(),delete e[t]))},_extra.slideObjects.getSlideObjectProperty=function(e,t){var a=_extra.slideObjects.getSlideObjectByName(e);return a?a[t]:_extra.slideObjects.model.retrieve(e,t)},_extra.slideObjects.enableForMouse=function(e){_extra.slideObjects.model.write(e,"enableForMouse",!0)},_extra.slideObjects.disableForMouse=function(e){_extra.slideObjects.model.write(e,"enableForMouse",!1)},_extra.slideObjects.setCursor=function(e,t){_extra.slideObjects.enactFunctionOnSlideObjects(e,function(e){_extra.slideObjects.model.write(e,"cursor",t)})},_extra.slideManager.enterSlideCallback.addCallback("*",function(){var e;_extra.slideObjects.unloadSlideObjectsFromOtherSlides();var t=_extra.slideManager.getSlideData();if(t)for(var a=0;a<t.slideObjects.length;a+=1)e=t.slideObjects[a],_extra.slideObjects.enteredSlideChildObjectsCallbacks.sendToCallback("*",e),_extra.slideObjects.enteredSlideChildObjectsCallbacks.sendToCallback(_extra.dataManager.getSlideObjectTypeByName(e),e);else _extra.error("Could not find slide data in slideObjectManager.global")})}),_extra.registerModule("slideObjectProxyAutoInstantiator",["slideObjectManager_global"],function(){"use strict";var e=[];_extra.slideObjects.proxyAutoInstantiator={check:function(e){return _extra.slideManager.hasSlideObjectOnSlide(e)&&!_extra.slideObjects.hasProxyFor(e)&&_extra.slideObjects.getSlideObjectProxy(e),_extra.slideObjects.hasSlideObjectInProject(e)},registerModelLookup:function(t){e.push(t)},hasModelDataFor:function(t){for(var a=0;a<e.length;a+=1)if(e[a](t))return!0;return!1}},_extra.slideObjects.enteredSlideChildObjectsCallbacks.addCallback("*",function(e){_extra.slideObjects.proxyAutoInstantiator.hasModelDataFor(e)&&!_extra.slideObjects.hasProxyFor(e)&&_extra.slideObjects.getSlideObjectProxy(e)})}),_extra.registerModule("softwareFunctionOverrideManager",["hookManager","eventManager","softwareInterfacesManager","CustomEvent"],function(){"use strict";_extra.addHookAfter(_extra.captivate.movie,"_onEnterFrame",function(){_extra.eventManager.eventDispatcher.dispatchEvent(_extra.createEvent("enterframe"))}),_extra.executeOnNextFrame=function(e){var t=function(){e(),_extra.eventManager.eventDispatcher.removeEventListener("enterframe",t)};_extra.eventManager.eventDispatcher.addEventListener("enterframe",t)}},_extra.CAPTIVATE),_extra.registerModule("softwareInterfacesManager",function(){"use strict";function e(e){return"100%"===_extra.captivate.projectContainer.style[e.containerProperty]?_extra.w[e.innerProperty]:_extra.w.parseInt(e.containerSize)}function t(){return _extra.w.cp.PB?_extra.w.cp.PB.PlayBarSlider:!1}_extra.captivate={api:_extra.w.cp,FPS:_extra.w.cp.movie.fps,totalFrames:_extra.w.cp.D.project_main.to,version:_extra.w.CaptivateVersion,variables:_extra.w,"interface":_extra.w.cpAPIInterface,eventDispatcher:_extra.w.cpAPIEventEmitter,model:_extra.w.cp.model,allSlideObjectsData:_extra.w.cp.model.data,movie:_extra.w.cp.movie,playbar:new _extra.classes.PlaybarProxy,variableManager:_extra.w.cp.variablesManager,isResponsive:_extra.w.cp.responsive,projectContainer:_extra.w.cp.projectContainer,projectDIV:_extra.w.document.getElementById("project"),audioManager:_extra.w.cp.movie.am,numSlides:_extra.w.cpInfoSlideCount,openURLLocation:_extra.w.cp,openURLMethodName:"openURL",playbarClass:t(),isInitated:function(){return _extra.w.cp.initiated},getResponsiveProjectWidth:function(){return _extra.captivate.api.ResponsiveProjWidth},getProjectWidth:function(){return e({containerProperty:"width",innerProperty:"innerWidth",containerSize:_extra.captivate.projectContainer.style.width})},getProjectHeight:function(){return e({containerProperty:"height",innerProperty:"innerHeight",containerSize:_extra.captivate.projectDIV.style.height})},events:{SLIDE_ENTER:"CPAPI_SLIDEENTER",SLIDE_EXIT:"CPAPI_SLIDEEXIT",PLAYBAR_SCRUBBING_BEGIN:"CPAPI_STARTPLAYBARSCRUBBING",PLAYBAR_SCRUBBING_END:"CPAPI_ENDPLAYBARSCRUBBING",INTERACTIVE_ITEM_SUBMIT:"CPAPI_INTERACTIVEITEMSUBMIT",MOVIE_PAUSE:"CPAPI_MOVIEPAUSE",MOVIE_RESUME:"CPAPI_MOVIERESUME",MOVIE_START:"CPAPI_MOVIESTART",MOVIE_STOP:"CPAPI_MOVIESTOP",QUESTION_SKIP:"CPAPI_QUESTIONSKIP",QUESTION_SUBMIT:"CPAPI_QUESTIONSUBMIT",VARIABLE_VALUE_CHANGED:"CPAPI_VARIABLEVALUECHANGED"}}},_extra.CAPTIVATE),_extra.registerModule("TOCManager",["softwareInterfacesManager","slideManager_software"],function(){"use strict";var e=_extra.captivate.api.markTOCEntryComplete,t=function(t){var a=_extra.slideManager.getSlideData(t);a&&(a.complete=!0),e(t)};_extra.TOCManager={completeSlide:function(e){t(e-1)}}},_extra.CAPTIVATE),_extra.registerModule("getVariableManager",["variableManager"],function(){"use strict";function e(e){return"get_"===e.substr(0,4).toLowerCase()?"get_"+e.substr(4,e.length):"_get_"===e.substr(0,5).toLowerCase()?"get_"+e.substr(5,e.length):void 0}var t;_extra.variableManager.prefixCallback.addCallback("get",function(a){if(!t){var r,n,i=/\+/g,s=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(i," "))},l=_extra.w.document.location.search.substring(1);for(t={};null!==(r=s.exec(l));)n=o(r[1]),"get_"!==n.substr(0,4).toLowerCase()&&"_get_"!==n.substr(0,5).toLowerCase()&&(n="get_"+n),t[n]=o(r[2])}var c=t[e(a)];void 0===c?c=null:_extra.w.isNaN(c)||(c=_extra.w.parseFloat(c)),null!==c&&_extra.variableManager.setVariableValue(a,c)})}),_extra.registerModule("localStorageManager",["variableManager","queryManager"],function(){"use strict";function e(e,t){return!n.hasOwnProperty(e)&&!i.hasOwnProperty(t.storageName)}function t(){r={},_extra.variableManager.storageVariables=r}function a(e,a,n){r||t();var i;try{i=a.getItem(e)}catch(s){return void _extra.error("PV001",n)}i&&(_extra.w.isNaN(i)||(i=_extra.w.parseFloat(i)),_extra.variableManager.setVariableValue(e,i)),r[e]={storage:a,storageName:n}}var r,n={},i={},s="local",o="session";_extra.variableManager.saveStorageVariables=function(){var e;for(e in r)r.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&_extra.variableManager.saveStorageVariable(e)},_extra.variableManager.saveStorageVariable=function(t){var a;r[t]&&(a=r[t],e(t,a)&&a.storage.setItem(t,_extra.variableManager.getVariableValue(t)))},_extra.variableManager.enactFunctionOnStorageVariables=function(e,t){var a=_extra.queryList(e,r);if(a)for(var n=0;n<a.length;n+=1)t(a[n])},_extra.variableManager.flushStorage=function(e){if(r.hasOwnProperty(e))r[e].storage.removeItem(e),n[e]=!0;else switch(e.toLowerCase()){case"localstorage":case"local":_extra.w.localStorage.clear(),i[s]=!0;break;case"sessionstorage":case"session":_extra.w.sessionStorage.clear(),i[o]=!0;break;case"all":_extra.w.sessionStorage.clear(),_extra.w.localStorage.clear(),i[o]=!0,i[s]=!0;break;default:_extra.error("CV060",e)}},_extra.variableManager.prefixCallback.addCallback("ls",function(e){try{a(e,_extra.w.localStorage,s)}catch(t){_extra.error("PV001","local")}}),_extra.variableManager.prefixCallback.addCallback("ss",function(e){try{a(e,_extra.w.sessionStorage,o)}catch(t){_extra.error("PV001","session")}})}),_extra.registerModule("mathActions",["variableManager"],function(){"use strict";function e(e,t){var a=_extra.variableManager.getVariableValue(e);a=t(a),_extra.variableManager.setVariableValue(e,a)}_extra.variableManager.mathActions={random:function(e,t,a){var r=_extra.w.Math.random();if(1!==t||0!==a){var n=t-a;r*=n,r+=a,r=_extra.w.Math.round(r)}_extra.variableManager.setVariableValue(e,r)},round:function(t){e(t,_extra.w.Math.round)},floor:function(t){e(t,_extra.w.Math.floor)},ceil:function(t){e(t,_extra.w.Math.ceil)},roundTo:function(t,a,r){function n(e){switch(r){case"up":return _extra.w.Math.ceil(e);case"down":return _extra.w.Math.floor(e);default:return _extra.w.Math.round(e);
}}e(t,function(e){return e*=Math.pow(10,a),e=n(e),e/=_extra.w.Math.pow(10,a)})}}}),_extra.registerModule("replaceVariablesInString",["variableManager_software"],function(){"use strict";_extra.variableManager.replaceVariablesInString=function(e){for(var t,a="",r=e.split("$$"),n=0;n<r.length;n+=1)t=r[n],n%2===1&&(t=_extra.variableManager.hasVariable(t)?_extra.variableManager.getVariableValue(t):"$$"+t+"$$"),a+=t;return a}}),_extra.registerModule("variableManager_software",["softwareInterfacesManager","Callback","CustomEvent","queryManager"],function(){"use strict";_extra.variableManager={getVariableValue:function(e){return _extra.variableManager.isSystemVariable(e)?_extra.captivate.variables[e]:_extra.captivate.variableManager.getVariableValue(e)},setVariableValue:function(e,t){_extra.variableManager.hasVariable(e)&&(_extra.captivate.variables[e]=t)},hasVariable:function(e){return _extra.variableManager.variableData?_extra.variableManager.variableData.hasOwnProperty(e):_extra.captivate.variables.hasOwnProperty(e)},internalListenForVariableChange:function(e,t){_extra.captivate.eventDispatcher.addEventListener("CPAPI_VARIABLEVALUECHANGED",t,e)},internalStopListeningForVariableChange:function(e,t){_extra.captivate.eventDispatcher.removeEventListener("CPAPI_VARIABLEVALUECHANGED",t,e)},forEachVariable:function(e){for(var t,a=_extra.captivate.api.variablesManager.varInfos,r=0;r<a.length;r+=1)t=a[r],e({name:t.name,isSystemVariable:t.systemDefined})}}},_extra.CAPTIVATE),_extra.registerModule("variableManager",["variableManager_software","VariableEventManager"],function(){"use strict";var e=new _extra.classes.VariableEventManager(_extra.variableManager.internalListenForVariableChange,_extra.variableManager.internalStopListeningForVariableChange);return _extra.variableManager.variableData=null,_extra.variableManager.hasParsedVariables=!1,_extra.variableManager.prefixCallback=new _extra.classes.Callback,_extra.variableManager.commands={},_extra.variableManager.listenForVariableChange=function(t,a){e.addListener(t,a)},_extra.variableManager.stopListeningForVariableChange=function(t,a){e.removeListener(t,a)},_extra.variableManager.enactFunctionOnVariables=function(e,t){if(_extra.isQuery(e)){var a=_extra.queryList(e,_extra.variableManager.variableData);if(a)for(var r=0;r<a.length;r+=1)t(a[r])}else t(e)},_extra.variableManager.isSystemVariable=function(e){return _extra.variableManager.variableData&&void 0!==_extra.variableManager.variableData[e]?_extra.variableManager.variableData[e].isSystemVariable:!1},_extra.variableManager.reset=function(e){if(_extra.variableManager.variableData){var t=_extra.variableManager.variableData[e];t&&_extra.variableManager.setVariableValue(e,t.defaultValue)}},function(){_extra.variableManager.variableData={},_extra.variableManager.forEachVariable(function(e){var t,a,r=e.name;_extra.variableManager.variableData[r]={defaultValue:_extra.variableManager.getVariableValue(r),isSystemVariable:e.isSystemVariable},e.isSystemVariable||(t=r.split("_"),a=t[0],""===a&&(a=t[1]),a=a.toLowerCase(),_extra.variableManager.prefixCallback.sendToCallback(a,r))}),_extra.variableManager.hasParsedVariables=!0,_extra.eventManager.eventDispatcher.dispatchEvent(_extra.createEvent("variablesInitialized"))}}),_extra.registerModule("whiteSpaceManager",["variableManager"],function(){"use strict";_extra.variableManager.safelyRemoveWhiteSpace=function(e,t){return e&&e.replace?e.replace(/([^[]+)|(\[[^\]]+\])/g,function(e,a,r){return a?(t&&(a=a.replace(/\,/g,t)),a.replace(/\s/g,"")):r}):e}}),_extra.registerModule("BaseSlideObjectProxy",function(){"use strict";function e(e,t){this.initializePrivateVariables(e,t),this._eventMediator.swap(this._currentStateData),this.initializePublicMethods(),this.initializeInternalMethods(),this.initializeInitialState()}var t="enableForMouse",a="cursor",r="x",n="y",i="width",s="height",o="lockFocus";e.prototype={get name(){return this._data.name},get data(){return this._data},get type(){return this._data.type},get state(){return this._data.currentStateName},get x(){return this._currentStateData.x+this._offsetX},set x(e){this._model.write(this.name,r,e)},get y(){return this._currentStateData.y+this._offsetY},set y(e){this._model.write(this.name,n,e)},get width(){return this._currentStateData.width},get height(){return this._currentStateData.height},get lockFocus(){return this._lockFocus},set lockFocus(e){this._lockFocus!==e&&(this._lockFocus=e,e?this._internalLockFocus():this._internalUnlockFocus())}},e.prototype.initializePrivateVariables=function(e,t){this._data=t,this._focusDiv=e,this._model=_extra.slideObjects.model,this._currentStateData=t.getDataForState(this.state),this._offsetX=0,this._offsetY=0,this._lockFocus=!1,this._modelListener=new _extra.classes.ModelListener(this.name,this._model),this._eventMediator=_extra.eventManager.getEventMediator(this.name),this._stateEndManager=new _extra.classes.SlideObjectEnterExitEventManager(this),this._stateEndManager.setCurrentDispatcher(this._currentStateData),this._interruptedClickEventHandler=new _extra.classes.InterruptedClickEventHandler(this._eventMediator,this.name),this._originalX=this._currentStateData.originalX,this._originalY=this._currentStateData.originalY},e.prototype.initializePublicMethods=function(){var e=this;this.addEventListener=function(t,a){e._eventMediator.addEventListener(t,a)},this.removeEventListener=function(t,a){e._eventMediator.removeEventListener(t,a)},this.hasEventListener=function(t){return e._eventMediator.hasEventListener(t)},this.dispatchEvent=function(t){e._eventMediator.dispatchEvent(t)},this.enableForMouse=function(){e._modelListener.model.write(this.name,t,!0)},this.disableForMouse=function(){e._modelListener.model.write(this.name,t,!1)},this.setHandCursor=function(t){e._modelListener.model.write(this.name,a,t)}},e.prototype.initializeInternalMethods=function(){var e=this;this._onStateChange=function(t){var a=e.data.getDataForState(t.stateName);e._eventMediator.swap(a),e._stateEndManager.setCurrentDispatcher(a),e._offsetX=e._originalX-a.originalX,e._offsetY=e._originalY-a.originalY,e._currentStateData=a,e._modelListener.model.update(e.name)},_extra.slideObjects.states.changeCallback.addCallback(this.name,this._onStateChange),this._onAudioEnded=function(){e.dispatchEvent("audioended")},this._onAudioPaused=function(){_extra.movieStatus.isPlaying()&&_extra.movieStatus.isCurrentFrameWithinRange(e.data.startFrame,e.data.endFrame)&&_extra.w.setTimeout(function(){e._audioData.paused=!0,e.dispatchEvent("audioended")},150)},this._internalLockFocus=function(){this._currentStateData.isInitialized&&_extra.$(this._focusDiv).on("keydown",this._focusHandler).focus()},this._focusHandler=function(t){9===t.keyCode&&(t.preventDefault(),_extra.$(e._focusDiv).focus())},this._internalUnlockFocus=function(){_extra.$(this._focusDiv).off("keydown",this._focusHandler)}},e.prototype.initializeInitialState=function(){var e=this;this._currentStateData.isInitialized?this.onSlideObjectInitialized():(this._internalInitializationHandler=function(){e.onSlideObjectInitialized.call(e)},this._currentStateData.addEventListener("internalinitialization",this._internalInitializationHandler))},e.prototype.onSlideObjectInitialized=function(){this._internalInitializationHandler&&(this._currentStateData.removeEventListener("internalinitialization",this._internalInitializationHandler),delete this._internalInitializationHandler),this.lockFocus&&this._internalLockFocus(),this._originalX=this._currentStateData.originalX,this._originalY=this._currentStateData.originalY,this._listenForAudioEvents(),this._addModelListeners()},e.prototype._listenForAudioEvents=function(){if(this._data.hasAudio){var e=this,t=function(a){_extra.audioManager.audioDataCallback.removeCallback(e._data.audioID,t),e._audioData=a,e._audioTag=e._audioData.nativeAudio,e._audioTag.addEventListener("ended",e._onAudioEnded),e._audioTag.addEventListener("pause",e._onAudioPaused)};_extra.audioManager.audioDataCallback.addCallback(this._data.audioID,t)}},e.prototype._addModelListeners=function(){function e(e){return e.toLowerCase?(e=e.toLowerCase(),"default"===e||"reset"===e||"original"===e):!1}var l=this;this._modelListener.addProperty(t,function(e,t){t?l._currentStateData.removeClass("extra-mouse-disabled"):l._currentStateData.addClass("extra-mouse-disabled")}),this._modelListener.addProperty(a,function(e,t){l._currentStateData.editCSS("cursor",t)}),this._modelListener.addProperty(r,function(t,a){e(a)&&(a=l._currentStateData.originalX+l._offsetX),"number"!=typeof a&&(a=_extra.w.parseFloat(a)),l._currentStateData.x=a-l._offsetX}),this._modelListener.addProperty(n,function(t,a){e(a)&&(a=l._currentStateData.originalY+l._offsetY),"number"!=typeof a&&(a=_extra.w.parseFloat(a)),l._currentStateData.y=a-l._offsetY}),this._modelListener.addProperty(i,function(e,t){l._currentStateData.width=t}),this._modelListener.addProperty(s,function(e,t){l._currentStateData.width=t}),this._modelListener.addProperty(o,function(e,t){l.lockFocus=t})},e.prototype.changeState=function(e){_extra.slideObjects.states.change(this.name,e)},e.prototype.unload=function(){this.dispatchEvent("unload"),this._eventMediator.swap(null),this._stateEndManager.setCurrentDispatcher(null),this._modelListener.unload(),this.lockFocus=!1,this._interruptedClickEventHandler.unload(),this._internalInitializationHandler&&this._currentStateData.removeEventListener("internalinitialization",this._internalInitializationHandler),_extra.slideObjects.states.changeCallback.removeCallback(this.name,this._onStateChange),this._data.hasAudio&&this._audioTag&&(this._audioTag.removeEventListener("ended",this._onAudioEnded),this._audioTag.removeEventListener("pause",this._onAudioPaused));var e;for(var t in this._data.stateDatas)this._data._stateDatas.hasOwnProperty(t)&&(e=this._data.stateDatas[t],e.unload())},_extra.registerClass("BaseSlideObjectProxy",e,_extra.CAPTIVATE)},_extra.CAPTIVATE),_extra.registerModule("TextEntryBoxProxy",["BaseSlideObjectProxy"],function(){"use strict";function e(e,t){_extra.classes.BaseSlideObjectProxy.call(this,e,t);var a=this;this._updateToVariable=!1,this._ignoreNextDefaultText=!1,this._onVariableChangeUpdate=function(){var e=_extra.variableManager.getVariableValue(a.data.variable);a._ignoreNextDefaultText&&(a._ignoreNextDefaultText=!1,e===a.data.defaultText)||a.value!==e&&(a.value=e)}}_extra.registerClass("TextEntryBoxProxy",e,"BaseSlideObjectProxy",_extra.CAPTIVATE),_extra.w.Object.defineProperty(e.prototype,"value",{get:function(){return this._inputField?this._inputField.value:null},set:function(e){this._inputField?this._inputField.value!==e&&(this._inputField.value=e,_extra.variableManager.setVariableValue(this.data.variable,e)):this._tempValue=e}}),_extra.w.Object.defineProperty(e.prototype,"updateToVariable",{get:function(){return this._updateToVariable},set:function(e){this._updateToVariable=e,e?_extra.variableManager.listenForVariableChange(this.data.variable,this._onVariableChangeUpdate):_extra.variableManager.stopListeningForVariableChange(this.data.variable,this._onVariableChangeUpdate)}}),e.prototype.onSlideObjectInitialized=function(){this._inputField=_extra.w.document.getElementById(this.name+"_inputField"),this._focusDiv=this._inputField,e.superClass.onSlideObjectInitialized.call(this),this._inputField||_extra.log("Error: Was unable to locate the TEB input field"),this.hasOwnProperty("_tempValue")&&(this.value=this._tempValue,delete this._tempValue)},e.prototype.unload=function(){_extra.variableManager.stopListeningForVariableChange(this.data.variable,this._onVariableChangeUpdate),e.superClass.unload.call(this)}},_extra.CAPTIVATE),_extra.registerModule("VideoProxy",["BaseSlideObjectProxy"],function(){"use strict";function e(e,t){_extra.classes.BaseSlideObjectProxy.call(this,e,t);var a=this;this._endVideoListener=function(){a.dispatchEvent("videoended")}}_extra.registerClass("VideoProxy",e,"BaseSlideObjectProxy",_extra.CAPTIVATE),e.prototype.onSlideObjectInitialized=function(){e.superClass.onSlideObjectInitialized.call(this),this._currentStateData.addEventListener("internalinitialization",this._getVideoTag),this._videoTag=this._currentStateData.primaryObject.contentDIV.firstChild.firstChild,this._videoTag.addEventListener("ended",this._endVideoListener)},e.prototype.unload=function(){this._videoTag&&this._videoTag.addEventListener("ended",this._endVideoListener),e.superClass.unload.call(this)}},_extra.CAPTIVATE),_extra.registerModule("dataTypeConverters",["globalSlideObjectTypes"],function(){"use strict";_extra.dataTypes.convertSlideObjectType=function(e,t){var a=_extra.dataTypes.slideObjects;switch(e){case 12:return a.MOUSE;case 13:return a.CLICK_BOX;case 14:return a.HIGHLIGHT_BOX;case 15:return a.IMAGE;case 19:case 22:case 79:case 86:return a.CAPTION;case 24:return a.TEXT_ENTRY_BOX;case 28:return a.ANIMATION;case 75:case 91:case 103:case 177:case 641:case 10119:case 10180:case 10182:return a.BUTTON;case 94:return a.REVIEW_AREA;case 98:return a.VIDEO;case 99:return a.ZOOM_AREA;case 133:return a.WIDGET;case 142:case 589:case 612:case 661:case 663:case 10166:case 10168:case 10170:case 10174:return a.SHAPE;case 652:return a.WEB_OBJECT;case 15728652:return a.MOUSE_CLICK;case 80:case 92:case 111:case 112:case 10088:case"radio":return a.UNKNOWN;default:return void 0!==e&&_extra.log(t+" has unknown type: "+e),a.UNKNOWN}}},_extra.CAPTIVATE),_extra.registerModule("globalSlideObjectTypes",function(){"use strict";_extra.dataTypes={slideObjects:{UNKNOWN:0,TEXT_ENTRY_BOX:1,CAPTION:2,SHAPE:3,HIGHLIGHT_BOX:4,BUTTON:5,WIDGET:6,WEB_OBJECT:7,MOUSE:8,ZOOM_AREA:9,ANIMATION:10,IMAGE:11,VIDEO:12,MOUSE_CLICK:13,CLICK_BOX:14,REVIEW_AREA:15}}}),_extra.registerModule("slideObjectModelManager",["slideObjectManager_global","Model","slideObjectProxyAutoInstantiator"],function(){"use strict";_extra.slideObjects.model=new _extra.classes.Model;var e=_extra.slideObjects.model.write;_extra.slideObjects.model.write=function(t,a,r){e(t,a,r);var n=_extra.slideObjects.proxyAutoInstantiator.check(t);n||_extra.error("CV001",t)},_extra.slideObjects.proxyAutoInstantiator.registerModelLookup(_extra.slideObjects.model.hasDataFor)}),_extra.registerModule("registerStateMetaData",["slideObjectManager_global","SlideObjectStateManager","slideManager_global","stateManager_software"],function(){"use strict";var e={},t="r",a="d",r="n";_extra.slideObjects.states.doesSlideObjectHaveDownState=function(t){var a,r=e[_extra.slideManager.currentSlideID];return r&&(a=r[t])?a.data.hasOwnProperty("d"):!1},_extra.slideObjects.states.registerStateMetaData=function(t,a){var r,n,i=_extra.slideManager.currentSlideID;e[i]||(e[i]={}),n=e[i],n[t]&&_extra.error("AS003",t),r=_extra.slideObjects.getSlideObjectByName(t),r?n[t]=new _extra.classes.SlideObjectStateManager(r,a):_extra.error("Could not find slideObjectProxy for '"+t+"' in the registerStateMetaData module.")},_extra.slideObjects.states.isAutomaticallyChangingStates=function(t){var a,r,n;for(r in e)if(e.hasOwnProperty(r)){a=e[r];for(n in a)if(a.hasOwnProperty(n)&&n===t)return!0}return!1},_extra.slideManager.enterSlideCallback.addCallback("*",function(t){var a,r,n;for(r in e)if(e.hasOwnProperty(r)&&r!==t){a=e[r];for(n in a)a.hasOwnProperty(n)&&a[n].unload();delete e[r]}}),_extra.slideObjects.enteredSlideChildObjectsCallbacks.addCallback("*",function(e){function n(e){switch(e.toLowerCase()){case"down":case"mousedown":return a;case"rollover":case"over":case"mouseover":return t;case"normal":return r;default:return null}}function i(e){return c=n(e[0]),c?e.shift():e.length>1&&(c=n(e[e.length-1]),c&&(e.length-=1)),c?c:r}function s(t,a){function r(t){o.hasOwnProperty(t)?_extra.error("AS002",e,a,t):o[t]=null}function n(e,t){if(!_extra.w.isNaN(e))return _extra.w.parseInt(e);switch(e.toLowerCase()){case"true":return!0;case"false":return!1}if(!t){switch(e.toLowerCase()){case"not":e={modifier:"!"};break;case"gt":e={modifier:">"};break;case"lt":e={modifier:"<"};break;case"gte":e={modifier:">="};break;case"lte":e={modifier:"<="}}"object"==typeof e&&(c=l)}return e}for(var i,s,o={},l=!1,c=!1,u=0;u<t.length;u+=1)s=t[u],c?(o[c].value=n(s,!0),c=!1):l?_extra.variableManager.hasVariable(s)?(r(s),l=s):(o[l]=n(s),l=null):(i&&(s=i+"_"+s,i=null),_extra.variableManager.hasVariable(s)?(r(s),l=s):u>=t.length-1?_extra.error("AS001",e,a,s):i=s);return _extra.w.Object.keys(o).length<=0?null:(c&&_extra.error("AS004",e,a,s),o)}for(var o,l,c,u=_extra.dataManager.getSlideObjectDataByName(e),d={},b=0;b<u.states.length;b+=1)o=u.states[b],"x_"===o.substr(0,2).toLowerCase()&&(l=o.split("_"),l.shift(),c=i(l),d[c]||(d[c]={}),d[c][o]=s(l,o));_extra.w.Object.keys(d).length>0&&_extra.slideObjects.states.registerStateMetaData(e,d)})}),_extra.registerModule("stateDrawnDetector",["stateManager_software"],function(){"use strict";_extra.slideObjects.states.callOnStateDrawn=function(e,t){function a(){t&&(t(),t=null)}function r(){t&&(_extra.removeHook(i,"drawComplete",a),a())}var n=_extra.dataManager.getSlideObjectDataByName(e),i=_extra.captivate.api.getDisplayObjByCP_UID(n.uid);_extra.addOneTimeHook(i,"drawComplete",a),_extra.executeOnNextFrame(r)}},_extra.CAPTIVATE),_extra.registerModule("stateManager_software",["Callback","slideObjectManager_global"],function(){"use strict";_extra.addHookAfter(_extra.captivate.api,"changeState",function(e,t){var a=_extra.dataManager.getSlideObjectDataByName(e);if(a&&a.hasState(t)){var r={slideObjectName:e,stateName:t};_extra.slideObjects.states.callOnStateDrawn(e,function(){_extra.slideObjects.states.changeCallback.sendToCallback("*",r),_extra.slideObjects.states.changeCallback.sendToCallback(e,r)})}}),_extra.slideObjects.states={change:function(e,t){_extra.slideObjects.enactFunctionOnSlideObjects(e,function(e){var a=function(){_extra.captivate.api.changeState(e,t)};if(_extra.slideManager.isSlideObjectOnSlideAndNotInTimeline(e)){var r=function(){a(),_extra.slideObjects.enterTimelineCallback.removeCallback(e,r)};_extra.slideObjects.enterTimelineCallback.addCallback(e,r,!0)}else a()})},fixMissingMouseOutIssue:function(e,t){_extra.addHookBefore(e,"HandleMouseEventOnStateItems",function(e,a){if("mouseout"===e){var r=_extra.slideObjects.getSlideObjectByName(this[t]);if(r){var n=r.data.getStateDataByInternalIndex(a);"RollOver"===n.name&&r.dispatchEvent(_extra.eventManager.events.MOUSE_OUT)}}})},changeCallback:new _extra.classes.Callback}},_extra.CAPTIVATE),_extra.registerModule("commandVariableManager",["variableManager","stateManager_software","whiteSpaceManager"],function(){"use strict";return _extra.variableManager.commandVariables={},_extra.variableManager.parameterHandlers={sendParametersAsParameters:function(e,t){t.apply(_extra,e)},executeOncePerParameter:function(e,t){for(var a=0;a<e.length;a+=1)t(e[a])}},_extra.variableManager.registerCommandVariable=function(e,t,a){_extra.variableManager.commandVariables[e]||(a||(a=_extra.variableManager.parameterHandlers.executeOncePerParameter),_extra.variableManager.commandVariables[e]={callback:t,parameterHandler:a})},_extra.variableManager.prepareParameters=function(e){if("object"==typeof e){if(void 0===e.id)return null;e=e.id}return""!==e?"string"==typeof e?(e=_extra.variableManager.safelyRemoveWhiteSpace(e,"\x00"),e.split("\x00")):[e]:null},function(){function e(e,t){_extra.variableManager.listenForVariableChange(e,function(){var a=_extra.variableManager.getVariableValue(e),r=_extra.variableManager.prepareParameters(a);r&&(t.parameterHandler(r,t.callback),_extra.variableManager.setVariableValue(e,""))})}function t(t){_extra.variableManager.hasVariable(t)&&e(t,_extra.variableManager.commandVariables[n])}var a,r="xcmnd";for(var n in _extra.variableManager.commandVariables)_extra.variableManager.commandVariables.hasOwnProperty(n)&&(a=r+n,t(a),t("_"+a));_extra.variableManager.commandVariables=null,_extra.variableManager.registerCommandVariable=null,_extra.variableManager.parameterHandlers=null}}),_extra.registerModule("commandVariables_global",["processCommandVariableRegistration","localStorageManager","parameterParseSets"],function(){"use strict";var e="success",t=_extra.variableManager.parseSets,a=_extra.variableManager.parameterHandlers,r={parameterToQuery:function(e,t){e.query=t},parametersToQueryString:function(e,t,a){e.query=t,e.string=a}},n={createBasicSlideObjectData:function(e,a){return{commandName:e,updateData:r.parameterToQuery,parseSet:t.SP.CD.SOR,parseSetData:{query:void 0,output:a}}},createVariableCommandData:function(e,a){return{commandName:e,updateData:r.parameterToQuery,parseSet:t.SP.CD.VR,parseSetData:{query:void 0,output:a}}},createEventListenerObjectData:function(r,n){return{commandName:r,updateData:function(e,t,a,r,n){e.slideObject=t,e.event=a,e.interactiveObject=r,e.criteria=n},parameterHandler:a.sendParametersAsParameters,parseSet:t.MP.SOR_EVT_INT_CRI,parseSetData:{slideObject:void 0,event:void 0,interactiveObject:void 0,criteria:void 0,output:n,SOR:{exceptions:{invalidName:function(e){return _extra.error("CV030",e,r),_extra.variableManager.parseSets.SKIP_ERROR}}},EVT:{validation:_extra.eventManager.events,validationCase:"upper",exceptions:{invalidString:function(e){return _extra.error("CV031",e,r),_extra.variableManager.parseSets.SKIP_ERROR}}},CRI:{"default":e}}}},createBaseGetterSetterData:function(e,r){return{commandName:e,updateData:function(e,t,a){e.slideObject=t,e.number=a},parameterHandler:a.sendParametersAsParameters,parseSet:t.MP.SOR_NR,parseSetData:{slideObject:void 0,number:void 0,get:r,SOR:{}}}},createScoreGetterSetterData:function(e,t,a){var r=n.createGetterSetterData(e,t,a);return r.parseSetData.SOR.requireInteractiveObject=!0,r.parseSetData.NR.exceptions.NaN=function(e){return e=e.toLowerCase(),"max"===e||"maximum"===e||"top"===e||"full"===e||"topscore"===e?"max":"half"===e?"half":!1},r},createGetterData:function(e,t){var a=n.createBaseGetterSetterData(e,t);return a.parseSetData.getOnly=!0,a.parseSetData.exceptions={illegalSet:function(t){return _extra.error("CV006",t,e),_extra.variableManager.parseSets.SKIP_ERROR}},a},createGetterSetterData:function(e,t,a){var r=n.createBaseGetterSetterData(e,t);return r.parseSetData.set=a,r.parseSetData.NR={exceptions:{NaN:function(e){return e=e.toLowerCase(),"default"===e||"reset"===e||"original"===e?"reset":!1}}},r}};_extra.variableManager.processCommandVariableRegistration({Hide:n.createBasicSlideObjectData("hide",_extra.slideObjects.hide),Show:n.createBasicSlideObjectData("show",_extra.slideObjects.show),Enable:n.createBasicSlideObjectData("enable",_extra.slideObjects.enable),Disable:n.createBasicSlideObjectData("disable",_extra.slideObjects.disable),EnableMouseEvents:n.createBasicSlideObjectData("enableMouseEvents",_extra.slideObjects.enableForMouse),DisableMouseEvents:n.createBasicSlideObjectData("disableMouseEvents",_extra.slideObjects.disableForMouse),PreventTabOut:n.createBasicSlideObjectData("preventTabOut",_extra.focusManager.lockFocusTo),AllowTabOut:n.createBasicSlideObjectData("allowTabOut",_extra.focusManager.unlockFocusFrom),Round:n.createVariableCommandData("round",_extra.variableManager.mathActions.round),Floor:n.createVariableCommandData("floor",_extra.variableManager.mathActions.floor),Ceil:n.createVariableCommandData("ceil",_extra.variableManager.mathActions.ceil),RoundTo:{commandName:"roundTo",parameterHandler:a.sendParametersAsParameters,updateData:function(e,t,a,r){e.variable=t,e.number=a,e.string=r},parseSet:t.MP.VR_NR_STR,parseSetData:{variable:void 0,number:void 0,string:void 0,output:_extra.variableManager.mathActions.roundTo,STR:{"default":"normal",validation:{up:"up",upper:"up",ceil:"up",down:"down",floor:"down",normal:"normal",none:"normal",ordinary:"normal","null":"normal"}}}},Random:{commandName:"random",updateData:function(e,t,a,r){e.variable=t,e.number1=a,e.number2=r},parameterHandler:a.sendParametersAsParameters,parseSet:t.MP.VR_NR1_NR2,parseSetData:{variable:void 0,number1:void 0,number2:void 0,output:_extra.variableManager.mathActions.random,NR1:{"default":1},NR2:{"default":0}}},Reset:{commandName:"reset",updateData:r.parameterToQuery,parseSet:t.SP.CD.VR,parseSetData:{query:void 0,output:_extra.variableManager.reset,exceptions:{invalidName:function(e){return _extra.error("CV050",e),_extra.variableManager.parseSets.SKIP_ERROR}}}},FlushStorage:{commandName:"flushStorage",updateData:r.parameterToQuery,parseSet:t.SP.CD.VR,parseSetData:{query:void 0,output:_extra.variableManager.flushStorage,alternateQueryHandler:_extra.variableManager.enactFunctionOnStorageVariables,exceptions:{invalidName:function(e){var t=e.toLowerCase();return"local"===t||"session"===t||"all"===t?t:(_extra.error("CV060",e),_extra.variableManager.parseSets.SKIP_ERROR)}}}},CompleteSlide:{commandName:"completeSlide",updateData:r.parameterToQuery,parseSet:t.SP.CD.SLR,parseSetData:{query:void 0,output:_extra.TOCManager.completeSlide}},AddEventListener:n.createEventListenerObjectData("addEventListener",function(e,t,a,r){_extra.eventManager.addEventListener(e,t,a,r)}),RemoveEventListener:n.createEventListenerObjectData("removeEventListener",function(e,t,a,r){_extra.eventManager.removeEventListener(e,t,a,r)}),Alert:{commandName:"alert",parseSet:t.MP.STR1_STR2_INT_CRI,parameterHandler:a.sendParametersAsParameters,updateData:function(e,t,a,r,n){e.string1=t,e.string2=a,e.interactiveObject=r,e.criteria=n},parseSetData:{string1:void 0,string2:void 0,interactiveObject:void 0,criteria:void 0,STR2:{"default":"CpExtra Alert"},INT:{"default":null},CRI:{"default":e},output:function(e,t,a,r){var n={message:e,title:t};a&&(n.firstButtonAction=function(){_extra.actionManager.callActionOn(a,r)}),_extra.alertManager.sendAlert(n)}}},Score:n.createScoreGetterSetterData("score",function(e,t){_extra.variableManager.setVariableValue(e,_extra.quizManager.getSlideObjectScore(t))},function(e,t){_extra.quizManager.setSlideObjectScore(e,t)}),MaxScore:n.createGetterData("maxScore",function(e,t){var a=_extra.quizManager.getSlideObjectQuestionData(t);a&&_extra.variableManager.setVariableValue(e,a.maxScore)}),PosX:n.createGetterSetterData("posX",function(e,t){_extra.variableManager.setVariableValue(e,_extra.slideObjects.getSlideObjectProperty(t,"x"))},function(e,t){_extra.slideObjects.model.write(e,"x",t)}),PosY:n.createGetterSetterData("posY",function(e,t){_extra.variableManager.setVariableValue(e,_extra.slideObjects.getSlideObjectProperty(t,"y"))},function(e,t){_extra.slideObjects.model.write(e,"y",t)}),Width:n.createGetterData("width",function(e,t){_extra.variableManager.setVariableValue(e,_extra.slideObjects.getSlideObjectProperty(t,"width"))}),Height:n.createGetterData("height",function(e,t){_extra.variableManager.setVariableValue(e,_extra.slideObjects.getSlideObjectProperty(t,"height"))}),ChangeState:{commandName:"changeState",updateData:r.parametersToQueryString,parameterHandler:a.sendParametersAsParameters,parseSet:t.MP.SOR_STR,parseSetData:{query:void 0,string:void 0,output:_extra.slideObjects.states.change}},SetCursor:{commandName:"setCursor",updateData:r.parametersToQueryString,parameterHandler:a.sendParametersAsParameters,parseSet:t.MP.SOR_STR,parseSetData:{query:void 0,string:void 0,output:_extra.slideObjects.setCursor,STR:{exceptions:{invalidString:function(e){return _extra.error("CV020",e),_extra.variableManager.parseSets.SKIP_ERROR}},validation:{auto:null,"default":null,none:null,"context-menu":null,help:null,pointer:null,progress:null,wait:null,cell:null,crosshair:null,text:null,"vertical-text":null,alias:null,copy:null,move:null,"no-drop":null,"not-allowed":null,"all-scroll":null,"col-resize":null,"row-resize":null,"n-resize":null,"e-resize":null,"s-resize":null,"w-resize":null,"ne-resize":null,"nw-resize":null,"se-resize":null,"sw-resize":null,"ew-resize":null,"ns-resize":null,"nesw-resize":null,"nwse-resize":null,"zoom-in":null,"zoom-out":null,grab:null,grabbing:null}}}},CallActionOn:{commandName:"callActionOn",updateData:function(e,t,a){e.interactiveObject=t,e.criteria=a},parameterHandler:a.sendParametersAsParameters,parseSet:t.MP.INT_CRI,parseSetData:{query:void 0,string:void 0,output:_extra.actionManager.callActionOn,CRI:{"default":e}}}})}),_extra.registerModule("parameterParser",["variableManager","queryManager","whiteSpaceManager"],function(){"use strict";var e={string:{"null":function(e,t){return t.isSlideObject=!1,t.isVariable=!1,t.isQuery=!1,t.isNumber=!1,t.isBlank=!0,e},number:function(e,t){return t.value=_extra.w.parseFloat(e),t.isSlideObject=!1,t.isVariable=!1,t.isQuery=!1,t.isBlank=!1,e},explicitString:function(e,t){return"["===e.charAt(0)&&"]"===e.charAt(e.length-1)&&(e=e.substr(1,e.length-2),t.value=e,t.isString=!0),e},string:function(t,a,r){return a.isBlank=!1,t=e.string.explicitString(t,a),!a.isString&&(t=e.string.$variable(t,a),a.is$Variable)?t:(a.isSlideObject=_extra.slideObjects.hasSlideObjectInProject(t),a.isQuery=_extra.isQuery(t),a.isVariable=a.isString?!1:_extra.variableManager.hasVariable(t),t=e.string.customType(t,a,r))},customType:function(e,t,a){return!a||t.isSlideObject||t.isVariable||t.isQuery||(t.isCustomType=a(e,t)),e},$variable:function(e,t){return"$$"===e.substr(0,2)&&"$$"===e.substr(e.length-2,2)&&(e=e.substr(2,e.length-4),t.isVariable=_extra.variableManager.hasVariable(e),t.is$Variable=!0,t.isSlideObject=!1,t.isQuery=!1,t.value=e,t.isVariable||_extra.error("PE001",e)),e},variable:function(e,t,a){var r=_extra.variableManager.getVariableValue(e);return void 0!==r&&r.replace&&(r=_extra.variableManager.safelyRemoveWhiteSpace(r)),t.variable=_extra.variableManager.parse.string(r,a,!0),e}}};_extra.variableManager.parse={string:function(t,a,r){var n={value:t,isNumber:!_extra.w.isNaN(t),isString:!1};return t=n.isNumber?e.string.number(t,n):t?e.string.string(t,n,a):e.string["null"](t,n),n.isVariable&&!r&&(t=e.string.variable(t,n,a)),n},"boolean":function(e){function t(e){return e>0}switch(typeof e){case"number":return t(e);case"string":return isNaN(e)?(e=e.toLowerCase(),!("false"===e||"no"===e||"fail"===e||"failure"===e)):t(_extra.w.parseFloat(e));default:return null}}}}),_extra.registerModule("parameterParseSets",["parameterParser","variableManager"],function(){"use strict";var e,t="success",a="failure",r="focuslost",n=function(e,t,a){return!e.hasOwnProperty("default")||null!==e[t]&&void 0!==e[t]?void a():void e.output(e["default"])},i=function(e,t,a){e.substituteParseResult?(e.parseResult=e.substituteParseResult,delete e.substituteParseResult):e.parseResult=_extra.variableManager.parse.string(e[t]),a&&e.parseResult.isVariable&&(e.parseResult=e.parseResult.variable)},s=function(e,t,a,r){void 0===e[t]&&(e[t]={}),e[t][r]=e[a]},o=function(e,t){var a;return e.output=function(e){a=e},t(e),a},l=function(e,t,a){var r=e.output;e.output=a,t(e),e.output=r},c=function(t){if(t.data.exceptions&&t.data.exceptions.hasOwnProperty(t.exceptionName)){var a=t.data.exceptions[t.exceptionName](t.issue);if(a===e.SKIP_ERROR)return;if(a)return void t.output(a)}t.fail()};_extra.variableManager.parseSets={SKIP_ERROR:{},SP:{CD:{SOR:function(e){function t(){i(e,"query",!0),e.parseResult.isSlideObject?a(e.parseResult.value):e.parseResult.isQuery?e.noQueries?c({data:e,exceptionName:"illegalQuery",issue:e.parseResult.value,output:e.output,fail:function(){_extra.error("CV004",e.parseResult.value)}}):_extra.slideObjects.enactFunctionOnSlideObjects(e.parseResult.value,function(e){a(e,!0)}):c({data:e,exceptionName:"invalidName",issue:e.parseResult.value,output:e.output,fail:function(){_extra.error("CV001",e.parseResult.value)}})}function a(t,a){e.requireInteractiveObject&&!_extra.slideObjects.isInteractiveObject(t)?a!==!0&&c({data:e,exceptionName:"nonInteractive",issue:t,output:e.output,fail:function(){_extra.error("CV007",t)}}):e.output(t)}n(e,"query",t)},VR:function(e){function t(){i(e,"query",!1),e.parseResult.is$Variable&&(e.parseResult=e.parseResult.variable),e.parseResult.isVariable?e.output(e.parseResult.value):e.parseResult.isQuery?e.alternateQueryHandler?e.alternateQueryHandler(e.parseResult.value,e.output):_extra.variableManager.enactFunctionOnVariables(e.parseResult.value,e.output):e.parseResult.isNumber?a("CV008","invalidNumber"):e.parseResult.isString&&_extra.variableManager.hasVariable(e.parseResult.value)?e.output(e.parseResult.value):a("CV002","invalidName");
}function a(t,a){c({data:e,exceptionName:a,issue:e.parseResult.value,output:e.output,fail:function(){_extra.error(t,e.parseResult.value)}})}n(e,"query",t)},SLR:function(e){function t(){i(e,"query",!1),e.parseResult.is$Variable&&(e.parseResult=e.parseResult.variable),a(e.parseResult.value)||(e.parseResult.isVariable&&(e.parseResult=e.parseResult.variable),e.parseResult.isNumber?l(e.parseResult.value):e.parseResult.isQuery?_extra.slideManager.enactFunctionOnSlides(e.parseResult.value,function(e){a(e)}):a(e.parseResult.value)||(e.parseResult.value.toLowerCase&&"all"===e.parseResult.value.toLowerCase()&&(e.parseResult.value="1-"+_extra.slideManager.numSlides),r(e.parseResult.value)))}function a(e){var t=_extra.slideManager.getSlideIndexFromName(e);if(t&&t.slide>-1){var a=t.slide+1;if(!(a>_extra.slideManager.numSlides))return l(a),!0;_extra.error("CV072",a,_extra.slideManager.numSlides)}return!1}function r(t){var a=t.split("-");switch(a.length){case 2:""!==a[0]&&""!==a[1]?s(a[0],a[1]):_extra.error("CV070",t);break;case 1:c({data:e,exceptionName:"invalidSlide",issue:t,output:l,fail:function(){_extra.error("CV071",t)}});break;default:_extra.error("CV070",t)}}function s(e,t){if(e=o(e),t=o(t),null!==e&&null!==t){if(e>t){var a=e;e=t,t=a}for(var r=e;t>=r;)l(r),r+=1}}function o(t){if(_extra.w.isNaN(t)){var a=_extra.slideManager.getSlideIndexFromName(t);if(a)return a.slide+1;var r=null;return c({data:e,exceptionName:"invalidSlide",issue:t,output:function(e){r=e},fail:function(){_extra.error("CV071",t),r=null}}),r}return _extra.w.parseInt(t)}function l(t){t>_extra.slideManager.numSlides?c({data:e,exceptionName:"slideBeyondProject",issue:t,output:e.output,fail:function(){_extra.error("CV072",t,_extra.slideManager.numSlides)}}):e.output(t)}n(e,"slide",t)},STR:function(e){function t(){var t=a();e.validation&&(t=r(t)),t&&e.output(t)}function a(){return i(e,"string",!0),e.parseResult.isNumber?e.parseResult.value.toString():e.parseResult.value}function r(t){var a=s(t),r=e.validation[a];return void 0===r?c({data:e,exceptionName:"invalidString",issue:t,output:function(e){r=e},fail:function(){r=null,_extra.error("CV003",t)}}):null===e.validation[a]&&(r=a),r}function s(t){switch(e.validationCase){case"upper":return t.toUpperCase();case"none":return t;default:return t.toLowerCase()}}n(e,"string",t)},NR:function(e){function t(){i(e,"number",!0),e.parseResult.isNumber?e.output(e.parseResult.value):c({data:e,exceptionName:"NaN",issue:e.parseResult.value,output:e.output,fail:function(){_extra.error("CV005",e.parseResult.value)}})}n(e,"number",t)}}},MP:{SOR_STR:function(t){function a(){r();var a=o(t.STR,e.SP.CD.STR);void 0!==a&&n(a)}function r(){s(t,"STR","string","string"),s(t,"SOR","query","query")}function n(a){t.SOR.output=function(e){t.output(e,a)},e.SP.CD.SOR(t.SOR)}a()},INT_CRI:function(n){function i(){o(),e.MP.SOR_STR(u)}function o(){u.query=n.interactiveObject,u.string=n.criteria,u.output=n.output,l(),c()}function l(){s(n,"INT","interactiveObject","query"),n.INT.noQueries=!0,n.INT.requireInteractiveObject=!0,u.SOR=n.INT}function c(){s(n,"CRI","criteria","string"),n.CRI.validation={1:t,"true":t,correct:t,success:t,0:a,"false":a,fail:a,failure:a,lastattempt:a,last:a,last_attempt:a,focus:r,focuslost:r,focus_lost:r},n.CRI.exceptions||(n.CRI.exceptions={}),n.CRI.exceptions.invalidString||(n.CRI.exceptions.invalidString=function(e){return _extra.error("CV010",e),_extra.variableManager.parseSets.SKIP_ERROR}),u.STR=n.CRI}var u={};i()},STR1_STR2_INT_CRI:function(t){function a(){r(),i.string1=o(t.STR1,e.SP.CD.STR),i.string2=o(t.STR2,e.SP.CD.STR),void 0!==i.string1&&void 0!==i.string2&&n()}function r(){s(t,"STR1","string1","string"),s(t,"STR2","string2","string")}function n(){var a=t.output;l(t,e.MP.INT_CRI,function(e,t){a(i.string1,i.string2,e,t)})}var i={string1:void 0,string2:void 0,interactiveObject:void 0,criteria:void 0};a()},SOR_EVT_INT_CRI:function(t){function a(){r(),n(),s.criteria&&s.interactiveObject&&i()}function r(){for(var e,a=["SOR","EVT","INT","CRI"],r=0;r<a.length;r+=1)e=a[r],t.hasOwnProperty(e)||(t[e]={})}function n(){l(t,e.MP.INT_CRI,function(e,t){s.interactiveObject=e,s.criteria=t})}function i(){var a={query:t.slideObject,string:t.event,STR:t.EVT,SOR:t.SOR,output:function(e,a){t.output(e,a,s.interactiveObject,s.criteria)}};e.MP.SOR_STR(a)}var s={slideObject:null,event:null,interactiveObject:null,criteria:null};a()},VR_NR:function(t){function a(){n();var a=o(t.NR,e.SP.CD.NR);_extra.w.isNaN(a)||r(a)}function r(a){t.VR.output=function(e){t.output(e,a)},e.SP.CD.VR(t.VR)}function n(){s(t,"VR","variable","query"),s(t,"NR","number","number")}a()},VR_NR1_NR2:function(t){function a(){r();var a=o(t.NR2,e.SP.CD.NR);_extra.w.isNaN(a)||n(a)}function r(){s(t,"NR2","number2","number")}function n(a){t.NR=t.NR1,t.number=t.number1;var r=t.output;l(t,e.MP.VR_NR,function(e,t){r(e,t,a)}),delete t.NR,delete t.number}a()},VR_NR_STR:function(t){function a(){s(t,"STR","string","string");var a=o(t.STR,e.SP.CD.STR);a&&r(a)}function r(a){var r=t.output;l(t,e.MP.VR_NR,function(e,t){r(e,t,a)})}a()},SOR_NR:function(t){function a(){r(),n()?i():t.getOnly?l():o()}function r(){s(t,"SOR","slideObject","query"),t.SOR.substituteParseResult=u,s(t,"NR","number","number"),t.NR.substituteParseResult=d}function n(){return(d.isSlideObject||d.isVariable&&d.variable.isSlideObject)&&(u.isVariable||u.isQuery)?!0:!1}function i(){var a=null;t.NR.output=function(e){a=e},t.NR.noQueries=!0,e.SP.CD.SOR(t.NR),null!==a&&(t.SOR.output=function(e){t.get(e,a)},e.SP.CD.VR(t.SOR))}function o(){var a=null;t.NR.output=function(e){a=e},e.SP.CD.NR(t.NR),null!==a&&(t.SOR.output=function(e){t.set(e,a)},e.SP.CD.SOR(t.SOR))}function l(){var e=u;e.isVariable&&(e=e.variable),e=e.value,c({data:t,exceptionName:"illegalSet",issue:e,output:null,fail:function(){_extra.error("CV006",e,"<i>unknown</i>")}})}var u=_extra.variableManager.parse.string(t.slideObject),d=_extra.variableManager.parse.string(t.number);a()}}},e=_extra.variableManager.parseSets}),_extra.registerModule("processCommandVariableRegistration",["commandVariableManager"],function(){"use strict";_extra.variableManager.processCommandVariableRegistration=function(e){function t(){for(var t in e)e.hasOwnProperty(t)&&a(t,e[t])}function a(e,t){function a(){t.commandName&&(_extra.variableManager.commands[t.commandName]=r,_extra.X[t.commandName]=r),_extra.variableManager.registerCommandVariable(e,r,t.parameterHandler)}function r(){t.updateData?(_extra.w.Array.prototype.unshift.call(arguments,t.parseSetData),t.updateData.apply(this,arguments),t.parseSet(t.parseSetData)):_extra.error("You forgot to add a data.updateData method")}a()}t()}}),_extra.registerModule("cpExtraInfo",["infoVariableManager"],function(){"use strict";var e={suffix:"Version"},t={suffix:"Build"};_extra.infoManager.registerInfoVariable(e)&&_extra.variableManager.setVariableValue(e.name,_extra.X.version),_extra.infoManager.registerInfoVariable(t)&&_extra.variableManager.setVariableValue(t.name,_extra.X.build)}),_extra.registerModule("infoVariableManager",["variableManager"],function(){"use strict";var e="xinfo";return _extra.infoManager={infoVariables:{},registerInfoVariable:function(t){function a(e){return t.name=e,_extra.variableManager.hasVariable(t.name)?(_extra.infoManager.infoVariables[t.name]=t,!0):!1}return a(e+t.suffix)?!0:a("_"+t.name)}},function(){var e,t=function(e){var t=_extra.infoManager.infoVariables[e.variableName],a=e.newValue;t.setter(a)},a=function(e){var t=_extra.infoManager.infoVariables[e.variableName];return t.getter()};for(var r in _extra.infoManager.infoVariables)_extra.infoManager.infoVariables.hasOwnProperty(r)&&(e=_extra.infoManager.infoVariables[r],e.setter&&_extra.variableManager.listenForVariableChange(r,t),e.getter&&_extra.variableManager.listenForVariableRead(r,a))}}),_extra.registerModule("timeInfoVariables",["infoVariableManager","movieStatusManager","doubleDidgitPreferences"],function(){"use strict";function e(e){var t=_extra.w.Math.floor,a=t(e/_extra.movieStatus.FPS),r=t(a/60),n=t(r/60);return a-=60*r,r-=60*n,{seconds:a,minutes:r,hours:n}}function t(e,t){var a=i[e];a.exists&&(_extra.preferences.doubleDidgits[e]&&10>t&&(t="0"+t),_extra.variableManager.setVariableValue(a.name,_extra.w.String(t)))}function a(e){for(var t,a,r=!1,n=0;n<e.length;n+=1)a=e[n],t={suffix:a},t.exists=_extra.infoManager.registerInfoVariable(t),t.exists&&(r=!0),i[a]=t;return r}var r=["ProjectTotalHours","ProjectTotalMinutes","ProjectTotalSeconds"],n=["ProjectElapsedHours","ProjectElapsedMinutes","ProjectElapsedSeconds"],i={};_extra.preferences.calculateTotalProjectTime=function(){var a=e(_extra.movieStatus.totalFrames);t("ProjectTotalSeconds",a.seconds),t("ProjectTotalMinutes",a.minutes),t("ProjectTotalHours",a.hours)},_extra.preferences.calculateElapsedProjectTime=function(){var a=e(_extra.movieStatus.currentFrame);t("ProjectElapsedSeconds",a.seconds),t("ProjectElapsedMinutes",a.minutes),t("ProjectElapsedHours",a.hours)},a(r)&&_extra.preferences.calculateTotalProjectTime(),a(n)&&_extra.eventManager.eventDispatcher.addEventListener("newframe",function(){_extra.preferences.calculateElapsedProjectTime()})}),_extra.registerModule("xinfoCurrentEvent",["infoVariableManager","eventManager","hookManager"],function(){"use strict";var e={suffix:"EventTarget"};_extra.infoManager.registerInfoVariable(e)&&_extra.addHookBefore(_extra.eventManager,"setEventTarget",function(t){_extra.variableManager.setVariableValue(e.name,t)})},_extra.CAPTIVATE),_extra.registerModule("xprefInitAction",["slideManager_global"],function(){"use strict";function e(){if(_extra.slideManager.enterSlideCallback.removeCallback("*",e),_extra.variableManager.hasVariable(t)){var a=_extra.variableManager.getVariableValue(t);a=_extra.variableManager.prepareParameters(a),a&&_extra.variableManager.commands.callActionOn(a[0],a[1])}}var t="xprefInitAction";_extra.slideManager.enterSlideCallback.addCallback("*",e)}),_extra.registerModule("BaseSlideObjectDataProxy",function(){"use strict";function e(e,t,a){t&&(this._name=e,this._data=t,this._type=a,this._key=this._data.base.mdi,this._initialStateData=_extra.captivate.api.getDisplayObjByKey(this._key))}e.prototype={get name(){return this._name},get baseItemName(){return this._data.base.bstin},get data(){return this._data},get originalX(){return this._data.container.b[0]},get originalY(){return this._data.container.b[1]},get originalWidth(){return this._data.container.b[2]-this.originalX},get originalHeight(){return this._data.container.b[3]-this.originalY},get startFrame(){return this._data.base.from},get endFrame(){return this._data.base.to},get type(){return this._type},get uid(){return this._data.container.uid},get isBaseStateItem(){return-1===this._data.base.bstiid},get baseStateItemID(){return this._data.base.bstiid},get states(){if(!this._states){this._states=[];var e=this._data.base.stl;if(e)for(var t=0;t<e.length;t+=1)this._states.push(e[t].stn)}return this._states},get currentStateName(){return this.states.length<=0?"Normal":this.states[this._initialStateData.currentState]},get isInteractiveObject(){return this._data.base.hasOwnProperty("oca")||this.type===_extra.dataTypes.slideObjects.CLICK_BOX||this.type===_extra.dataTypes.slideObjects.BUTTON||this.type===_extra.dataTypes.slideObjects.TEXT_ENTRY_BOX},get successAction(){return this._data.base.oca},get failureAction(){return this._data.base.ofa},get hasAudio(){return void 0!==this._data.base.ia},get audioID(){return this._data.base.ia},get stateDatas(){if(!this._stateDatas){var e,t=this,a={};this._stateDatas=a,this._initialStateData.states.length<=1?a.Normal=_extra.factories.createStateDataProxy(this.type,{stsi:[this.uid],stn:"Normal",stt:0}):this._initialStateData.states.forEach(function(r){e=_extra.factories.createStateDataProxy(t.type,r),a[e.name]=e})}return this._stateDatas}},e.prototype.hasState=function(e){return this.states.indexOf(e)>-1},e.prototype.getBaseStateItemData=function(){return this.isBaseStateItem?null:_extra.dataManager.getSlideObjectDataByID(this.baseStateItemID)},e.prototype.getStateDataByInternalIndex=function(e){var t;for(var a in this.stateDatas)if(this.stateDatas.hasOwnProperty(a)&&(t=this.stateDatas[a],t.internalIndex===e))return t;return null},e.prototype.getDataForState=function(e){return this.stateDatas[e]},_extra.registerClass("BaseSlideObjectDataProxy",e)}),_extra.registerModule("ShapeDataProxy",["BaseSlideObjectDataProxy"],function(){"use strict";function e(e,t,a){_extra.classes.BaseSlideObjectDataProxy.call(this,e,t,a)}_extra.registerClass("ShapeDataProxy",e,"BaseSlideObjectDataProxy",_extra.CAPTIVATE),_extra.w.Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._data.container.sw}})},_extra.CAPTIVATE),_extra.registerModule("TextEntryBoxDataProxy",["BaseSlideObjectDataProxy"],function(){"use strict";function e(e,t,a){_extra.classes.BaseSlideObjectDataProxy.call(this,e,t,a),this._isResponsive="object"==typeof t.container.txt}_extra.registerClass("TextEntryBoxDataProxy",e,"BaseSlideObjectDataProxy",_extra.CAPTIVATE),_extra.w.Object.defineProperty(e.prototype,"inputDivName",{get:function(){return this.name+"_inputField"}}),_extra.w.Object.defineProperty(e.prototype,"variable",{get:function(){return this._data.base.vn}}),_extra.w.Object.defineProperty(e.prototype,"focusLostAction",{get:function(){return this._data.base.ofla}}),_extra.w.Object.defineProperty(e.prototype,"defaultText",{get:function(){return this._isResponsive?this._data.container.txt[_extra.captivate.getResponsiveProjectWidth()]:this._data.container.txt},set:function(e){if(this._isResponsive)for(var t in this._data.container.txt)this._data.container.txt.hasOwnProperty(t)&&(this._data.container.txt[t]=e);else this._data.container.txt=e}})},_extra.CAPTIVATE),_extra.registerModule("ButtonStateDataProxy",["StateDataProxy"],function(){"use strict";function e(e){_extra.classes.StateDataProxy.call(this,e,function(e){_extra.slideObjects.states.fixMissingMouseOutIssue(e.rawData,"parentDivName")})}_extra.registerClass("ButtonStateDataProxy",e,"StateDataProxy",_extra.CAPTIVATE)},_extra.CAPTIVATE),_extra.registerModule("CaptionStateDataProxy",["StateDataProxy"],function(){"use strict";function e(e){_extra.classes.StateDataProxy.call(this,e,function(e){_extra.captivate.isResponsive?(e.drawMethodObject=e.rawData,e.drawMethodName="drawForResponsive",e.timeout=1):(e.drawMethodObject=e.canvasContext,e.drawMethodName="drawImage")})}_extra.registerClass("CaptionStateDataProxy",e,"StateDataProxy",_extra.CAPTIVATE)},_extra.CAPTIVATE),_extra.registerModule("ClickBoxStateDataProxy",["StateDataProxy"],function(){"use strict";function e(e){_extra.classes.StateDataProxy.call(this,e,function(e){})}_extra.registerClass("ClickBoxStateDataProxy",e,"StateDataProxy",_extra.CAPTIVATE)},_extra.CAPTIVATE),_extra.registerModule("HighlightBoxStateDataProxy",["StateDataProxy"],function(){"use strict";function e(e){_extra.classes.StateDataProxy.call(this,e,function(e){_extra.captivate.isResponsive?(e.drawMethodObject=e.rawData,e.drawMethodName="drawForResponsive",e.timeout=1):(e.drawMethodObject=e.canvasContext,e.drawMethodName="drawImage")})}_extra.registerClass("HighlightBoxStateDataProxy",e,"StateDataProxy",_extra.CAPTIVATE)},_extra.CAPTIVATE),_extra.registerModule("ShapeStateDataProxy",["StateDataProxy"],function(){"use strict";function e(e){_extra.classes.StateDataProxy.call(this,e,function(e){_extra.slideObjects.states.fixMissingMouseOutIssue(e.rawData,"parentId")})}_extra.registerClass("ShapeStateDataProxy",e,"StateDataProxy",_extra.CAPTIVATE);var t={0:0,1:2,2:20,3:6,4:7,5:10,6:13,7:16,8:19,9:22,10:25};e.prototype.calculateCContainerOffset=function(e){return _extra.captivate.isResponsive?t[e]:2*e},e.prototype.formatDataViaNativeController=function(t){var a,r=e.superClass.formatDataViaNativeController.call(this,t),n=_extra.dataManager.getSlideObjectDataByName(r.name);return a=r.originalX-n.originalX,a+=this.calculateCContainerOffset(n.strokeThickness),r.offsetX=a,r.offsetY=a,r}},_extra.CAPTIVATE),_extra.registerModule("StateDataProxy",["softwareInterfacesManager"],function(){"use strict";function e(e,t){this.hasOriginalPosition=!1,e&&(this._data=e,this.slideObjects=[],this.initializeSubSlideObjects(t),this.addEnterExitHandlers(),this.isInitialized&&this.calculateFirstSlideOriginalPosition())}e.prototype={get name(){return this._data.stn},get x(){return this.getProperty({CSSProperty:"left",pixelOffset:this.primaryObject.offsetX})},set x(e){this.setProperty({value:e,writeToCSS:["l","lhV"],CSSProperty:"left",propertyToOffsetWithPrimaryObject:"originalX",pixelOffset:this.primaryObject.offsetX})},get y(){return this.getProperty({CSSProperty:"top",pixelOffset:this.primaryObject.offsetY})},set y(e){this.setProperty({value:e,writeToCSS:["t","lvV"],CSSProperty:"top",propertyToOffsetWithPrimaryObject:"originalY",pixelOffset:this.primaryObject.offsetY})},get width(){return this.removePXSuffix(this.primaryObject.upperDIV.style.width)},set width(e){this.doCSSPropertySet(e,"originalWidth","width")},get height(){return this.removePXSuffix(this.primaryObject.upperDIV.style.height)},set height(e){this.doCSSPropertySet(e,"originalHeight","height")},get originalX(){return this.primaryObject.originalX},get originalY(){return this.primaryObject.originalY},get internalIndex(){return this._data.stt},get isInitialized(){return this.primaryObject.rawData.isDrawn}},e.prototype.initializeSubSlideObjects=function(e){for(var t,a,r,n=0;n<this._data.stsi.length;n+=1)r=this._data.stsi[n],t=_extra.captivate.api.getDisplayObjByCP_UID(r),a=t?this.formatDataViaNativeController(t):this.formatDataBySlideObjectData(_extra.dataManager.getSlideObjectDataByID(r)),e&&e(a),this.slideObjects.push(a);this.primaryObject=this.slideObjects[0]},e.prototype.formatDataBySlideObjectData=function(e){var t,a=_extra.dataManager.getSlideObjectDataByName(e.baseItemName),r=_extra.captivate.api.getDisplayObjByCP_UID(a.uid);return t=this.formatDataViaNativeController(r),t.originalX=e.originalX,t.originalY=e.originalY,t.originalWidth=e.originalWidth,t.originalHeight=e.originalHeight,t},e.prototype.formatDataViaNativeController=function(e){var t={upperDIV:e.actualParent,contentDIV:e.element.parentNode,focusDIVId:e.parentDivName,originalX:e.bounds.minX,originalY:e.bounds.minY,offsetX:0,offsetY:0,originalWidth:e.bounds.maxX-e.bounds.minX,originalHeight:e.bounds.maxY-e.bounds.minY,canvasContext:e.element.getContext?e.element.getContext("2d"):null,name:e.divName||e.parentDivName,rawData:e,enterMethodName:"drawComplete",exitMethodName:"reset"};return t.isPositionedByPercentage=this.getIsPositionedByPercentage(t),t},e.prototype.getIsPositionedByPercentage=function(e){if(e.rawData.responsiveCSS){var t=e.rawData.responsiveCSS[_extra.captivate.getResponsiveProjectWidth()];if(t)return t.l.indexOf("%")>-1}return!1},e.prototype.calculateFirstSlideOriginalPosition=function(){},e.prototype.addEnterExitHandlers=function(){var e=this;this.enterHandler=function(){e.calculateFirstSlideOriginalPosition(),e.dispatchEvent("internalinitialization")},this.exitHandler=function(){e.dispatchEvent("internalunload")},_extra.addOneTimeHook(this.primaryObject.rawData,this.primaryObject.enterMethodName,this.enterHandler),_extra.addOneTimeHook(this.primaryObject.rawData,this.primaryObject.exitMethodName,this.exitHandler)},e.prototype.getProperty=function(e){var t=_extra.w.parseFloat(this.primaryObject.upperDIV.style[e.CSSProperty]);return this.primaryObject.isPositionedByPercentage?this.convertPercentageToPixel(t,e.CSSProperty)+e.pixelOffset:t+e.pixelOffset},e.prototype.setProperty=function(e){if(e.value-=e.pixelOffset,_extra.captivate.isResponsive&&e.writeToCSS)for(var t=0;t<e.writeToCSS.length;t+=1)this.writeToCaptivateCSSRecord(e.writeToCSS[t],e.CSSProperty,e.value,e.propertyToOffsetWithPrimaryObject);this.doCSSPropertySet(e.value,e.propertyToOffsetWithPrimaryObject,e.CSSProperty)},e.prototype.removePXSuffix=function(e){return"px"===e.substr(e.length-2,2)&&(e=e.substr(0,e.length-2)),_extra.w.parseFloat(e)},e.prototype.doCSSPropertySet=function(e,t,a){var r=this.primaryObject[t],n=this;this.slideObjects.forEach(function(i){var s=e;s-=r-i[t],n.primaryObject.isPositionedByPercentage?s=n.convertPixelToPercentage(s,a)+"%":s+="px",_extra.cssManager.editCSSOn(i.upperDIV,a,s),_extra.cssManager.editCSSOn(i.contentDIV,a,s)})},e.prototype.writeToCaptivateCSSRecord=function(e,t,a,r){var n,i,s=this,o=this.primaryObject[r];this.slideObjects.forEach(function(l){i=a,i-=o-l[r],n=_extra.captivate.api.getResponsiveCSS(l.rawData.responsiveCSS),l.isPositionedByPercentage?n[e]=s.convertPixelToPercentage(i,t)+"%":n[e]=i+"px"})},e.prototype.convertPixelToPercentage=function(e,t){var a;return"left"===t?a=_extra.captivate.getProjectWidth():"top"===t&&(a=_extra.captivate.getProjectHeight()),e/a*100},e.prototype.convertPercentageToPixel=function(e,t){var a;return"left"===t?a=_extra.captivate.getProjectWidth():"top"===t&&(a=_extra.captivate.getProjectHeight()),e=_extra.w.Math.round(a*e),e/=100},e.prototype.addEventListener=function(e,t){this.slideObjects.forEach(function(a){a.upperDIV.addEventListener(e,t)})},e.prototype.removeEventListener=function(e,t){this.slideObjects.forEach(function(a){a.upperDIV.removeEventListener(e,t)})},e.prototype.dispatchEvent=function(e){this.primaryObject.upperDIV.dispatchEvent(_extra.createEvent(e))},e.prototype.setAttribute=function(e,t){this.slideObjects.forEach(function(a){a.upperDIV.setAttribute(e,t),a.contentDIV.setAttribute(e,t)})},e.prototype.addClass=function(e){this.slideObjects.forEach(function(t){_extra.cssManager.addClassTo(t.upperDIV,e),_extra.cssManager.addClassTo(t.contentDIV,e)})},e.prototype.removeClass=function(e){this.slideObjects.forEach(function(t){_extra.cssManager.removeClassFrom(t.upperDIV,e),_extra.cssManager.removeClassFrom(t.contentDIV,e)})},e.prototype.editCSS=function(e,t){this.slideObjects.forEach(function(a){_extra.cssManager.editCSSOn(a.upperDIV,e,t),_extra.cssManager.editCSSOn(a.contentDIV,e,t)})},e.prototype.unload=function(){this.primaryObject.rawData.virgin=!1,this.enterHandler&&this.exitHandler&&(_extra.removeHook(this.primaryObject.rawData,this.primaryObject.enterMethodName,this.enterHandler),_extra.removeHook(this.primaryObject.rawData,this.primaryObject.exitMethodName,this.exitHandler)),_extra.captivate.isResponsive&&(this.writeToCaptivateCSSRecord("l","left",this.originalX,"originalX"),this.writeToCaptivateCSSRecord("lhV","left",this.originalX,"originalX"),this.writeToCaptivateCSSRecord("t","top",this.originalY,"originalY"),this.writeToCaptivateCSSRecord("lvV","top",this.originalY,"originalY"))},_extra.registerClass("StateDataProxy",e)},_extra.CAPTIVATE),_extra.registerModule("TextEntryBoxStateDataProxy",["StateDataProxy"],function(){"use strict";function e(e){_extra.classes.StateDataProxy.call(this,e,function(e){e.upperDIV=_extra.w.document.getElementById(e.name+"c")})}_extra.registerClass("TextEntryBoxStateDataProxy",e,"StateDataProxy",_extra.CAPTIVATE)},_extra.CAPTIVATE),_extra.registerModule("VideoStateDataProxy",["StateDataProxy"],function(){"use strict";function e(e){_extra.classes.StateDataProxy.call(this,e,function(e){e.enterMethodName="addNativeVideoIfNeeded"})}_extra.registerClass("VideoStateDataProxy",e,"StateDataProxy",_extra.CAPTIVATE)},_extra.CAPTIVATE),_extra.registerModule("WebObjectStateDataProxy",["StateDataProxy"],function(){"use strict";function e(e){_extra.classes.StateDataProxy.call(this,e,function(e){e.enterMethodName="loadWebObject"})}_extra.registerClass("WebObjectStateDataProxy",e,"StateDataProxy",_extra.CAPTIVATE)},_extra.CAPTIVATE),_extra.registerModule("WidgetStateDataProxy",["StateDataProxy"],function(){"use strict";function e(e){_extra.classes.StateDataProxy.call(this,e,function(e){e.upperDIV=e.contentDIV,e.enterMethodName="doActualWidgetLoad"})}_extra.registerClass("WidgetStateDataProxy",e,"StateDataProxy",_extra.CAPTIVATE)},_extra.CAPTIVATE);